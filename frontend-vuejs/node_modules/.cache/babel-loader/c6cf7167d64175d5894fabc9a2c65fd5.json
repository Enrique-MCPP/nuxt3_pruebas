{"ast":null,"code":"import { reactive } from 'vue';\nexport function useTableBean(service, axiosConfig) {\n  const state = reactive({\n    editedRow: null,\n    selectedRow: null,\n    list: [],\n    isDisabled: false\n  });\n  const create = () => {\n    state.isDisabled = false;\n    state.editedRow = null;\n  };\n  const getAll = async () => {\n    try {\n      const response = await service.getAll(axiosConfig);\n      state.list = response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const updateRow = async updatedRow => {\n    try {\n      await service.save(updatedRow, axiosConfig);\n      state.list = await getAll();\n      state.isDisabled = true;\n    } catch (error) {\n      if (error.response.status === 400) {\n        const errorMessage = error.response.data;\n        console.log(errorMessage);\n      }\n    }\n  };\n  const remove = async rowToDelete => {\n    try {\n      await service.remove(rowToDelete.id, axiosConfig);\n      state.list = await getAll();\n      state.isDisabled = true;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return {\n    ...state,\n    create,\n    getAll,\n    updateRow,\n    remove\n  };\n}","map":{"version":3,"names":["reactive","useTableBean","service","axiosConfig","state","editedRow","selectedRow","list","isDisabled","create","getAll","response","data","error","console","log","updateRow","updatedRow","save","status","errorMessage","remove","rowToDelete","id"],"sources":["C:/Users/emalc/OneDrive/Escritorio/CRUD_keycloak_primeVue/keycloak-workshop/frontend-vuejs/src/composables/useTableBean.js"],"sourcesContent":["import { reactive } from 'vue';\r\n\r\nexport function useTableBean(service, axiosConfig) {\r\n  const state = reactive({\r\n    editedRow: null,\r\n    selectedRow: null,\r\n    list: [],\r\n    isDisabled: false,\r\n  });\r\n\r\n  const create = () => {\r\n    state.isDisabled = false;\r\n    state.editedRow = null;\r\n  };\r\n\r\n  const getAll = async () => {\r\n    try {\r\n      const response = await service.getAll(axiosConfig);\r\n      state.list = response.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const updateRow = async (updatedRow) => {\r\n    try {\r\n      await service.save(updatedRow, axiosConfig);\r\n      state.list = await getAll();\r\n      state.isDisabled = true;\r\n    } catch (error) {\r\n      if (error.response.status === 400) {\r\n        const errorMessage = error.response.data;\r\n        console.log(errorMessage);\r\n      }\r\n    }\r\n  };\r\n\r\n  const remove = async (rowToDelete) => {\r\n    try {\r\n      await service.remove(rowToDelete.id, axiosConfig);\r\n      state.list = await getAll();\r\n      state.isDisabled = true;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    ...state,\r\n    create,\r\n    getAll,\r\n    updateRow,\r\n    remove,\r\n  };\r\n}\r\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,KAAK;AAE9B,OAAO,SAASC,YAAYA,CAACC,OAAO,EAAEC,WAAW,EAAE;EACjD,MAAMC,KAAK,GAAGJ,QAAQ,CAAC;IACrBK,SAAS,EAAE,IAAI;IACfC,WAAW,EAAE,IAAI;IACjBC,IAAI,EAAE,EAAE;IACRC,UAAU,EAAE;EACd,CAAC,CAAC;EAEF,MAAMC,MAAM,GAAGA,CAAA,KAAM;IACnBL,KAAK,CAACI,UAAU,GAAG,KAAK;IACxBJ,KAAK,CAACC,SAAS,GAAG,IAAI;EACxB,CAAC;EAED,MAAMK,MAAM,GAAG,MAAAA,CAAA,KAAY;IACzB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMT,OAAO,CAACQ,MAAM,CAACP,WAAW,CAAC;MAClDC,KAAK,CAACG,IAAI,GAAGI,QAAQ,CAACC,IAAI;IAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF,CAAC;EAED,MAAMG,SAAS,GAAG,MAAOC,UAAU,IAAK;IACtC,IAAI;MACF,MAAMf,OAAO,CAACgB,IAAI,CAACD,UAAU,EAAEd,WAAW,CAAC;MAC3CC,KAAK,CAACG,IAAI,GAAG,MAAMG,MAAM,EAAE;MAC3BN,KAAK,CAACI,UAAU,GAAG,IAAI;IACzB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACd,IAAIA,KAAK,CAACF,QAAQ,CAACQ,MAAM,KAAK,GAAG,EAAE;QACjC,MAAMC,YAAY,GAAGP,KAAK,CAACF,QAAQ,CAACC,IAAI;QACxCE,OAAO,CAACC,GAAG,CAACK,YAAY,CAAC;MAC3B;IACF;EACF,CAAC;EAED,MAAMC,MAAM,GAAG,MAAOC,WAAW,IAAK;IACpC,IAAI;MACF,MAAMpB,OAAO,CAACmB,MAAM,CAACC,WAAW,CAACC,EAAE,EAAEpB,WAAW,CAAC;MACjDC,KAAK,CAACG,IAAI,GAAG,MAAMG,MAAM,EAAE;MAC3BN,KAAK,CAACI,UAAU,GAAG,IAAI;IACzB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF,CAAC;EAED,OAAO;IACL,GAAGT,KAAK;IACRK,MAAM;IACNC,MAAM;IACNM,SAAS;IACTK;EACF,CAAC;AACH"},"metadata":{},"sourceType":"module"}