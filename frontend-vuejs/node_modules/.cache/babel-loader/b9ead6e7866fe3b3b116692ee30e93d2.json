{"ast":null,"code":"import { reactive } from 'vue';\nconst state = reactive({\n  editedRow: {\n    id: 3,\n    estado: \"sin guardar\",\n    productos: [],\n    precioTotal: 15,\n    direccionEnvio: \"otro lado\",\n    metodoDePago: \"paypal\",\n    numSeguimiento: \"otro\",\n    fechaCreacion: new Date(),\n    observaciones: \"Primer editedRow al composable\"\n  },\n  selectedRow: null,\n  list: [],\n  isDisabled: false\n});\nexport function useTableBean(service, axiosConfig) {\n  const stateUno = reactive({\n    myObject: {\n      prop1: 'valor1',\n      prop2: 'valor2'\n    }\n  });\n  const updateMyObject = () => {\n    stateUno.myObject.prop1 = 'nuevo valor';\n  };\n  const setEditedRow = newValue => {\n    state.editedRow = newValue;\n  };\n  const create = () => {\n    state.isDisabled = false;\n    state.editedRow = null;\n  };\n  const getAll = async () => {\n    try {\n      const response = await service.getAll(axiosConfig);\n      state.list = response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const save = async () => {\n    console.log('Dentro del save del composable');\n    console.log(state.editedRow);\n    setEditedRow({\n      id: 4,\n      estado: \"suspenso\",\n      productos: [],\n      precioTotal: 15,\n      direccionEnvio: \"otro lado\",\n      metodoDePago: \"paypal\",\n      numSeguimiento: \"otro\",\n      fechaCreacion: new Date(),\n      observaciones: \"Primer editedRow al composable\"\n    });\n  };\n  const remove = async rowToDelete => {\n    try {\n      await service.remove(rowToDelete.id, axiosConfig);\n      state.list = await getAll();\n      state.isDisabled = true;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return {\n    state,\n    stateUno,\n    updateMyObject,\n    save,\n    remove,\n    create,\n    getAll,\n    setEditedRow\n  };\n}","map":{"version":3,"names":["reactive","state","editedRow","id","estado","productos","precioTotal","direccionEnvio","metodoDePago","numSeguimiento","fechaCreacion","Date","observaciones","selectedRow","list","isDisabled","useTableBean","service","axiosConfig","stateUno","myObject","prop1","prop2","updateMyObject","setEditedRow","newValue","create","getAll","response","data","error","console","log","save","remove","rowToDelete"],"sources":["C:/Users/emalc/OneDrive/Escritorio/CRUD_keycloak_primeVue/keycloak-workshop/frontend-vuejs/src/composables/useTableBean.js"],"sourcesContent":["import { reactive } from 'vue';\r\n\r\n\r\nconst state = reactive({\r\n  editedRow: {\r\n    id: 3,\r\n    estado: \"sin guardar\",\r\n    productos: [],\r\n    precioTotal: 15,\r\n    direccionEnvio: \"otro lado\",\r\n    metodoDePago: \"paypal\",\r\n    numSeguimiento: \"otro\",\r\n    fechaCreacion: new Date(),\r\n    observaciones: \"Primer editedRow al composable\",\r\n  },\r\n  selectedRow: null,\r\n  list: [],\r\n  isDisabled: false,\r\n});\r\nexport function useTableBean(service, axiosConfig) {\r\n  const stateUno = reactive({\r\n    myObject: {\r\n      prop1: 'valor1',\r\n      prop2: 'valor2',\r\n    },\r\n  });\r\n\r\n  const updateMyObject = () => {\r\n    stateUno.myObject.prop1 = 'nuevo valor';\r\n  };\r\n  const setEditedRow = (newValue) => {\r\n    state.editedRow = newValue\r\n  }\r\n\r\n  const create = () => {\r\n    state.isDisabled = false;\r\n    state.editedRow = null;\r\n  };\r\n\r\n  const getAll = async () => {\r\n    try {\r\n      const response = await service.getAll(axiosConfig);\r\n      state.list = response.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const save = async () => {\r\n    console.log('Dentro del save del composable')\r\n    console.log(state.editedRow);\r\n\r\n    setEditedRow({\r\n      id: 4,\r\n      estado: \"suspenso\",\r\n      productos: [],\r\n      precioTotal: 15,\r\n      direccionEnvio: \"otro lado\",\r\n      metodoDePago: \"paypal\",\r\n      numSeguimiento: \"otro\",\r\n      fechaCreacion: new Date(),\r\n      observaciones: \"Primer editedRow al composable\",\r\n    });\r\n\r\n  };\r\n\r\n\r\n\r\n  const remove = async (rowToDelete) => {\r\n    try {\r\n      await service.remove(rowToDelete.id, axiosConfig);\r\n      state.list = await getAll();\r\n      state.isDisabled = true;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    state,\r\n    stateUno,\r\n    updateMyObject,\r\n    save,\r\n    remove,\r\n    create,\r\n    getAll,\r\n    setEditedRow,\r\n\r\n  };\r\n}\r\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,KAAK;AAG9B,MAAMC,KAAK,GAAGD,QAAQ,CAAC;EACrBE,SAAS,EAAE;IACTC,EAAE,EAAE,CAAC;IACLC,MAAM,EAAE,aAAa;IACrBC,SAAS,EAAE,EAAE;IACbC,WAAW,EAAE,EAAE;IACfC,cAAc,EAAE,WAAW;IAC3BC,YAAY,EAAE,QAAQ;IACtBC,cAAc,EAAE,MAAM;IACtBC,aAAa,EAAE,IAAIC,IAAI,EAAE;IACzBC,aAAa,EAAE;EACjB,CAAC;EACDC,WAAW,EAAE,IAAI;EACjBC,IAAI,EAAE,EAAE;EACRC,UAAU,EAAE;AACd,CAAC,CAAC;AACF,OAAO,SAASC,YAAYA,CAACC,OAAO,EAAEC,WAAW,EAAE;EACjD,MAAMC,QAAQ,GAAGnB,QAAQ,CAAC;IACxBoB,QAAQ,EAAE;MACRC,KAAK,EAAE,QAAQ;MACfC,KAAK,EAAE;IACT;EACF,CAAC,CAAC;EAEF,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3BJ,QAAQ,CAACC,QAAQ,CAACC,KAAK,GAAG,aAAa;EACzC,CAAC;EACD,MAAMG,YAAY,GAAIC,QAAQ,IAAK;IACjCxB,KAAK,CAACC,SAAS,GAAGuB,QAAQ;EAC5B,CAAC;EAED,MAAMC,MAAM,GAAGA,CAAA,KAAM;IACnBzB,KAAK,CAACc,UAAU,GAAG,KAAK;IACxBd,KAAK,CAACC,SAAS,GAAG,IAAI;EACxB,CAAC;EAED,MAAMyB,MAAM,GAAG,MAAAA,CAAA,KAAY;IACzB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMX,OAAO,CAACU,MAAM,CAACT,WAAW,CAAC;MAClDjB,KAAK,CAACa,IAAI,GAAGc,QAAQ,CAACC,IAAI;IAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF,CAAC;EACD,MAAMG,IAAI,GAAG,MAAAA,CAAA,KAAY;IACvBF,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;IAC7CD,OAAO,CAACC,GAAG,CAAC/B,KAAK,CAACC,SAAS,CAAC;IAE5BsB,YAAY,CAAC;MACXrB,EAAE,EAAE,CAAC;MACLC,MAAM,EAAE,UAAU;MAClBC,SAAS,EAAE,EAAE;MACbC,WAAW,EAAE,EAAE;MACfC,cAAc,EAAE,WAAW;MAC3BC,YAAY,EAAE,QAAQ;MACtBC,cAAc,EAAE,MAAM;MACtBC,aAAa,EAAE,IAAIC,IAAI,EAAE;MACzBC,aAAa,EAAE;IACjB,CAAC,CAAC;EAEJ,CAAC;EAID,MAAMsB,MAAM,GAAG,MAAOC,WAAW,IAAK;IACpC,IAAI;MACF,MAAMlB,OAAO,CAACiB,MAAM,CAACC,WAAW,CAAChC,EAAE,EAAEe,WAAW,CAAC;MACjDjB,KAAK,CAACa,IAAI,GAAG,MAAMa,MAAM,EAAE;MAC3B1B,KAAK,CAACc,UAAU,GAAG,IAAI;IACzB,CAAC,CAAC,OAAOe,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF,CAAC;EAED,OAAO;IACL7B,KAAK;IACLkB,QAAQ;IACRI,cAAc;IACdU,IAAI;IACJC,MAAM;IACNR,MAAM;IACNC,MAAM;IACNH;EAEF,CAAC;AACH"},"metadata":{},"sourceType":"module"}