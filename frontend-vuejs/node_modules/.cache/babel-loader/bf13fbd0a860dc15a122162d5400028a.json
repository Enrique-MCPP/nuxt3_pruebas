{"ast":null,"code":"function getInternetExplorerVersion() {\n  var ua = window.navigator.userAgent;\n  var msie = ua.indexOf('MSIE ');\n\n  if (msie > 0) {\n    // IE 10 or older => return version number\n    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n  }\n\n  var trident = ua.indexOf('Trident/');\n\n  if (trident > 0) {\n    // IE 11 => return version number\n    var rv = ua.indexOf('rv:');\n    return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n  }\n\n  var edge = ua.indexOf('Edge/');\n\n  if (edge > 0) {\n    // Edge (IE 12+) => return version number\n    return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n  } // other browser\n\n\n  return -1;\n} //\n\n\nvar isIE;\n\nfunction initCompat() {\n  if (!initCompat.init) {\n    initCompat.init = true;\n    isIE = getInternetExplorerVersion() !== -1;\n  }\n}\n\nvar script = {\n  name: 'ResizeObserver',\n  props: {\n    emitOnMount: {\n      type: Boolean,\n      default: false\n    },\n    ignoreWidth: {\n      type: Boolean,\n      default: false\n    },\n    ignoreHeight: {\n      type: Boolean,\n      default: false\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    initCompat();\n    this.$nextTick(function () {\n      _this._w = _this.$el.offsetWidth;\n      _this._h = _this.$el.offsetHeight;\n\n      if (_this.emitOnMount) {\n        _this.emitSize();\n      }\n    });\n    var object = document.createElement('object');\n    this._resizeObject = object;\n    object.setAttribute('aria-hidden', 'true');\n    object.setAttribute('tabindex', -1);\n    object.onload = this.addResizeHandlers;\n    object.type = 'text/html';\n\n    if (isIE) {\n      this.$el.appendChild(object);\n    }\n\n    object.data = 'about:blank';\n\n    if (!isIE) {\n      this.$el.appendChild(object);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.removeResizeHandlers();\n  },\n  methods: {\n    compareAndNotify: function compareAndNotify() {\n      if (!this.ignoreWidth && this._w !== this.$el.offsetWidth || !this.ignoreHeight && this._h !== this.$el.offsetHeight) {\n        this._w = this.$el.offsetWidth;\n        this._h = this.$el.offsetHeight;\n        this.emitSize();\n      }\n    },\n    emitSize: function emitSize() {\n      this.$emit('notify', {\n        width: this._w,\n        height: this._h\n      });\n    },\n    addResizeHandlers: function addResizeHandlers() {\n      this._resizeObject.contentDocument.defaultView.addEventListener('resize', this.compareAndNotify);\n\n      this.compareAndNotify();\n    },\n    removeResizeHandlers: function removeResizeHandlers() {\n      if (this._resizeObject && this._resizeObject.onload) {\n        if (!isIE && this._resizeObject.contentDocument) {\n          this._resizeObject.contentDocument.defaultView.removeEventListener('resize', this.compareAndNotify);\n        }\n\n        this.$el.removeChild(this._resizeObject);\n        this._resizeObject.onload = null;\n        this._resizeObject = null;\n      }\n    }\n  }\n};\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n/* server only */\n, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n  if (typeof shadowMode !== 'boolean') {\n    createInjectorSSR = createInjector;\n    createInjector = shadowMode;\n    shadowMode = false;\n  } // Vue.extend constructor export interop.\n\n\n  var options = typeof script === 'function' ? script.options : script; // render functions\n\n  if (template && template.render) {\n    options.render = template.render;\n    options.staticRenderFns = template.staticRenderFns;\n    options._compiled = true; // functional template\n\n    if (isFunctionalTemplate) {\n      options.functional = true;\n    }\n  } // scopedId\n\n\n  if (scopeId) {\n    options._scopeId = scopeId;\n  }\n\n  var hook;\n\n  if (moduleIdentifier) {\n    // server build\n    hook = function hook(context) {\n      // 2.3 injection\n      context = context || // cached call\n      this.$vnode && this.$vnode.ssrContext || // stateful\n      this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n      // 2.2 with runInNewContext: true\n\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__;\n      } // inject component styles\n\n\n      if (style) {\n        style.call(this, createInjectorSSR(context));\n      } // register component module identifier for async chunk inference\n\n\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    }; // used by ssr in case component is cached and beforeCreate\n    // never gets called\n\n\n    options._ssrRegister = hook;\n  } else if (style) {\n    hook = shadowMode ? function (context) {\n      style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\n    } : function (context) {\n      style.call(this, createInjector(context));\n    };\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // register for functional component in vue file\n      var originalRender = options.render;\n\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n\n  return script;\n}\n/* script */\n\n\nvar __vue_script__ = script;\n/* template */\n\nvar __vue_render__ = function __vue_render__() {\n  var _vm = this;\n\n  var _h = _vm.$createElement;\n\n  var _c = _vm._self._c || _h;\n\n  return _c(\"div\", {\n    staticClass: \"resize-observer\",\n    attrs: {\n      tabindex: \"-1\"\n    }\n  });\n};\n\nvar __vue_staticRenderFns__ = [];\n__vue_render__._withStripped = true;\n/* style */\n\nvar __vue_inject_styles__ = undefined;\n/* scoped */\n\nvar __vue_scope_id__ = \"data-v-8859cc6c\";\n/* module identifier */\n\nvar __vue_module_identifier__ = undefined;\n/* functional template */\n\nvar __vue_is_functional_template__ = false;\n/* style inject */\n\n/* style inject SSR */\n\n/* style inject shadow dom */\n\nvar __vue_component__ = /*#__PURE__*/normalizeComponent({\n  render: __vue_render__,\n  staticRenderFns: __vue_staticRenderFns__\n}, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, false, undefined, undefined, undefined);\n\nfunction install(Vue) {\n  // eslint-disable-next-line vue/component-definition-name-casing\n  Vue.component('resize-observer', __vue_component__);\n  Vue.component('ResizeObserver', __vue_component__);\n}\n\nvar plugin = {\n  // eslint-disable-next-line no-undef\n  version: \"1.0.1\",\n  install: install\n};\nvar GlobalVue = null;\n\nif (typeof window !== 'undefined') {\n  GlobalVue = window.Vue;\n} else if (typeof global !== 'undefined') {\n  GlobalVue = global.Vue;\n}\n\nif (GlobalVue) {\n  GlobalVue.use(plugin);\n}\n\nexport default plugin;\nexport { __vue_component__ as ResizeObserver, install };","map":{"version":3,"mappings":"AAAO,SAASA,0BAAT,GAAuC;AAC5C,MAAMC,EAAE,GAAGC,MAAM,CAACC,SAAPD,CAAiBE,SAA5B;AAEA,MAAMC,IAAI,GAAGJ,EAAE,CAACK,OAAHL,CAAW,OAAXA,CAAb;;AACA,MAAII,IAAI,GAAG,CAAX,EAAc;AACZ;AACA,WAAOE,QAAQ,CAACN,EAAE,CAACO,SAAHP,CAAaI,IAAI,GAAG,CAApBJ,EAAuBA,EAAE,CAACK,OAAHL,CAAW,GAAXA,EAAgBI,IAAhBJ,CAAvBA,CAAD,EAAgD,EAAhD,CAAf;AACD;;AAED,MAAMQ,OAAO,GAAGR,EAAE,CAACK,OAAHL,CAAW,UAAXA,CAAhB;;AACA,MAAIQ,OAAO,GAAG,CAAd,EAAiB;AACf;AACA,QAAMC,EAAE,GAAGT,EAAE,CAACK,OAAHL,CAAW,KAAXA,CAAX;AACA,WAAOM,QAAQ,CAACN,EAAE,CAACO,SAAHP,CAAaS,EAAE,GAAG,CAAlBT,EAAqBA,EAAE,CAACK,OAAHL,CAAW,GAAXA,EAAgBS,EAAhBT,CAArBA,CAAD,EAA4C,EAA5C,CAAf;AACD;;AAED,MAAMU,IAAI,GAAGV,EAAE,CAACK,OAAHL,CAAW,OAAXA,CAAb;;AACA,MAAIU,IAAI,GAAG,CAAX,EAAc;AACZ;AACA,WAAOJ,QAAQ,CAACN,EAAE,CAACO,SAAHP,CAAaU,IAAI,GAAG,CAApBV,EAAuBA,EAAE,CAACK,OAAHL,CAAW,GAAXA,EAAgBU,IAAhBV,CAAvBA,CAAD,EAAgD,EAAhD,CAAf;AAnB0C;;;AAuB5C,SAAO,CAAC,CAAR;AACD,C;;;ACdD;;AAEA;;;;;;;AAOA;wBAAA;;;;;;;;;;;;;;GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAAA;;;GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAjBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACCO,SAASW,OAAT,CAAkBC,GAAlB,EAAuB;AAC5B;AACAA,KAAG,CAACC,SAAJD,CAAc,iBAAdA,EAAiCE,iBAAjCF;AACAA,KAAG,CAACC,SAAJD,CAAc,gBAAdA,EAAgCE,iBAAhCF;AACD;;IAOKG,MAAM,GAAG;AACb;AACAC,SAAO,EAAEC,OAFI;AAGbN,SAAO,EAAPA;AAHa;AASf,IAAIO,SAAS,GAAG,IAAhB;;AACA,IAAI,OAAOjB,MAAP,KAAkB,WAAtB,EAAmC;AACjCiB,WAAS,GAAGjB,MAAM,CAACW,GAAnBM;AADF,OAEO,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACxCD,WAAS,GAAGC,MAAM,CAACP,GAAnBM;AACD;;AACD,IAAIA,SAAJ,EAAe;AACbA,WAAS,CAACE,GAAVF,CAAcH,MAAdG;AACD","names":["getInternetExplorerVersion","ua","window","navigator","userAgent","msie","indexOf","parseInt","substring","trident","rv","edge","install","Vue","component","ResizeObserver","plugin","version","VERSION","GlobalVue","global","use"],"sources":["../src/utils/compatibility.js","../src/components/ResizeObserver.vue","../src/index.js"],"sourcesContent":["export function getInternetExplorerVersion () {\n  const ua = window.navigator.userAgent\n\n  const msie = ua.indexOf('MSIE ')\n  if (msie > 0) {\n    // IE 10 or older => return version number\n    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10)\n  }\n\n  const trident = ua.indexOf('Trident/')\n  if (trident > 0) {\n    // IE 11 => return version number\n    const rv = ua.indexOf('rv:')\n    return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10)\n  }\n\n  const edge = ua.indexOf('Edge/')\n  if (edge > 0) {\n    // Edge (IE 12+) => return version number\n    return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10)\n  }\n\n  // other browser\n  return -1\n}\n","<template>\n  <div\n    class=\"resize-observer\"\n    tabindex=\"-1\"\n  />\n</template>\n\n<script>\nimport { getInternetExplorerVersion } from '../utils/compatibility'\n\nlet isIE\n\nfunction initCompat () {\n  if (!initCompat.init) {\n    initCompat.init = true\n    isIE = getInternetExplorerVersion() !== -1\n  }\n}\n\nexport default {\n  name: 'ResizeObserver',\n\n  props: {\n    emitOnMount: {\n      type: Boolean,\n      default: false,\n    },\n\n    ignoreWidth: {\n      type: Boolean,\n      default: false,\n    },\n\n    ignoreHeight: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  mounted () {\n    initCompat()\n    this.$nextTick(() => {\n      this._w = this.$el.offsetWidth\n      this._h = this.$el.offsetHeight\n      if (this.emitOnMount) {\n        this.emitSize()\n      }\n    })\n    const object = document.createElement('object')\n    this._resizeObject = object\n    object.setAttribute('aria-hidden', 'true')\n    object.setAttribute('tabindex', -1)\n    object.onload = this.addResizeHandlers\n    object.type = 'text/html'\n    if (isIE) {\n      this.$el.appendChild(object)\n    }\n    object.data = 'about:blank'\n    if (!isIE) {\n      this.$el.appendChild(object)\n    }\n  },\n\n  beforeDestroy () {\n    this.removeResizeHandlers()\n  },\n\n  methods: {\n    compareAndNotify () {\n      if ((!this.ignoreWidth && this._w !== this.$el.offsetWidth) || (!this.ignoreHeight && this._h !== this.$el.offsetHeight)) {\n        this._w = this.$el.offsetWidth\n        this._h = this.$el.offsetHeight\n        this.emitSize()\n      }\n    },\n\n    emitSize () {\n      this.$emit('notify', {\n        width: this._w,\n        height: this._h,\n      })\n    },\n\n    addResizeHandlers () {\n      this._resizeObject.contentDocument.defaultView.addEventListener('resize', this.compareAndNotify)\n      this.compareAndNotify()\n    },\n\n    removeResizeHandlers () {\n      if (this._resizeObject && this._resizeObject.onload) {\n        if (!isIE && this._resizeObject.contentDocument) {\n          this._resizeObject.contentDocument.defaultView.removeEventListener('resize', this.compareAndNotify)\n        }\n        this.$el.removeChild(this._resizeObject)\n        this._resizeObject.onload = null\n        this._resizeObject = null\n      }\n    },\n  },\n}\n</script>\n\n<style scoped>\n.resize-observer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n  width: 100%;\n  height: 100%;\n  border: none;\n  background-color: transparent;\n  pointer-events: none;\n  display: block;\n  overflow: hidden;\n  opacity: 0;\n}\n\n.resize-observer >>> object {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  pointer-events: none;\n  z-index: -1;\n}\n</style>\n","import ResizeObserver from './components/ResizeObserver.vue'\n\n// Install the components\nexport function install (Vue) {\n  // eslint-disable-next-line vue/component-definition-name-casing\n  Vue.component('resize-observer', ResizeObserver)\n  Vue.component('ResizeObserver', ResizeObserver)\n}\n\nexport {\n  ResizeObserver,\n}\n\n// Plugin\nconst plugin = {\n  // eslint-disable-next-line no-undef\n  version: VERSION,\n  install,\n}\n\nexport default plugin\n\n// Auto-install\nlet GlobalVue = null\nif (typeof window !== 'undefined') {\n  GlobalVue = window.Vue\n} else if (typeof global !== 'undefined') {\n  GlobalVue = global.Vue\n}\nif (GlobalVue) {\n  GlobalVue.use(plugin)\n}\n"]},"metadata":{},"sourceType":"module"}