{"ast":null,"code":"import { watchEffect, computed, ref, toRefs, watch } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  components: {},\n  props: {\n    state: {\n      type: Object,\n      required: true\n    },\n    estados: {\n      type: Object,\n      default: function () {\n        return {};\n      }\n    }\n  },\n  setup(props) {\n    const stateRefs = toRefs(props.state);\n    const checked = ref(null);\n    const store = useStore();\n    const roles = computed(() => store.getters.roles);\n    const metodosDePago = ['Paypal', 'Bizum', 'Tarje de crédito'];\n    watch(() => props.stateRefs.editedRow, newValue => {\n      // Update the state.editedRow object in the parent component\n      stateRefs = {\n        ...newValue\n      };\n    }, {\n      deep: true\n    } // Set deep option to true to watch for changes in nested properties\n    );\n\n    const beforeCreate = () => {\n      // Lógica antes de crear un registro\n    };\n    const beforeSave = () => {\n      // Lógica antes de guardar un registro\n    };\n    const beforeDelete = () => {\n      // Lógica antes de eliminar un registro\n    };\n    watchEffect(() => {\n      beforeSave();\n    });\n    return {\n      stateRefs,\n      checked,\n      beforeCreate,\n      beforeSave,\n      beforeDelete,\n      roles,\n      metodosDePago\n    };\n  }\n};","map":{"version":3,"names":["watchEffect","computed","ref","toRefs","watch","useStore","components","props","state","type","Object","required","estados","default","setup","stateRefs","checked","store","roles","getters","metodosDePago","editedRow","newValue","deep","beforeCreate","beforeSave","beforeDelete"],"sources":["C:\\Users\\emalc\\OneDrive\\Escritorio\\CRUD_keycloak_primeVue\\keycloak-workshop\\frontend-vuejs\\src\\componentes\\panelInputsPedidosCRUD.vue"],"sourcesContent":["<template>\r\n    <h2>Panel stateRefs</h2>\r\n    <h4>{{ stateRefs.editedRow }}</h4>\r\n    <h2>Panel state</h2>\r\n    <h4>{{ state.editedRow }}</h4>\r\n    <p_panel style=\"margin-bottom: 20px;margin: 0 auto; width: 80%\">\r\n\r\n        <div class=\"panel-flex\" style=\"margin-bottom: 20px;margin: 0 auto; width: 80%\">\r\n\r\n            <div style=\"display: inline-block; margin-right: 10px; vertical-align: middle;\">\r\n                <label for=\"numSeguimiento\" style=\"display: block;\">Nº de seguimiento</label>\r\n                <p:inputText id=\"numSeguimiento\" type=\"text\" v-model=\"stateRefs.editedRow.numSeguimiento\" :disabled=\"true\"\r\n                    style=\"width: 200px;\" />\r\n            </div>\r\n\r\n            <div style=\"display: inline-block; margin-right: 10px; vertical-align: middle;\">\r\n                <label for=\"metodoDePago\" style=\"display: block;\">Método de pago</label>\r\n                <p:selectOneMenu id=\"metodoDePago\" v-model=\"stateRefs.editedRow.metodoDePago\" :disabled=\"state.disabled\"\r\n                    style=\"width: 200px;\" :options=\"metodosDePago\" placeholder=\"Selecciona un método de pago\" />\r\n            </div>\r\n\r\n            <div style=\"display: inline-block; margin-right: 10px; vertical-align: middle;\">\r\n                <label for=\"estado\" style=\"display: block;\">Estado</label>\r\n                <p:selectOneMenu id=\"estado\" v-model=\"stateRefs.editedRow.estado\" :disabled=\"state.disabled\"\r\n                    style=\"width: 200px;\" optionLabel=\"nombre\" placeholder=\"Selecciona un estado\" :options=\"estados\" />\r\n            </div>\r\n\r\n\r\n\r\n            <div style=\"display: inline-block; margin-right: 10px; vertical-align: middle;\">\r\n                <label for=\"direccionEnvio\" style=\"display: block;\">Dirección de envío</label>\r\n                <p:inputText id=\"direccionEnvio\" type=\"text\" v-model=\"stateRefs.editedRow.direccionEnvio\"\r\n                    :disabled=\"state.disabled\" style=\"width: 200px;\" />\r\n            </div>\r\n            <div style=\"display: inline-block; margin-right: 10px; vertical-align: middle;\">\r\n                <label for=\"precioTotal\" style=\"display: block;\">Precio total</label>\r\n                <p:inputText id=\"precioTotal\" type=\"number\" v-model=\"stateRefs.editedRow.precioTotal\"\r\n                    :disabled=\"state.disabled\" style=\"width: 200px;\" />\r\n            </div>\r\n            <div style=\"display: inline-block; margin-right: 10px; vertical-align: top;\">\r\n                <label for=\"observaciones\" style=\"display: block;\">Observaciones</label>\r\n                <TextArea id=\"observaciones\" :autoResize=\"true\" rows=\"5\" cols=\"90\" type=\"text\"\r\n                    v-model=\"stateRefs.editedRow.observaciones\" :disabled=\"state.disabled\" style=\"width: 350px;\" />\r\n            </div>\r\n\r\n        </div>\r\n    </p_panel>\r\n\r\n    <div v-if=\"this.roles.includes('SUPER_USER')\">\r\n        <p_panel style=\"margin-bottom: 20px;margin: 0 auto; width: 80%\">\r\n            <div class=\"center-buttons\" style=\"margin: 0 auto; width: 80%; text-align: center;\">\r\n                <p:commandButton style=\"margin-right: 10px;\" label=\"Nuevo\" @click=\"beforeCreate\"\r\n                    class=\"p-button-success mr-2\" icon=\"pi pi-plus\"></p:commandButton>\r\n                <p:commandButton style=\"margin-right: 10px;\" label=\"Guardar\" @click=\"beforeSave\" icon=\"pi pi-save\"\r\n                    update=\"nombre\">\r\n                </p:commandButton>\r\n                <p:commandButton style=\"margin-right: 10px;\" label=\"Eliminar\" @click=\"beforeDelete\" class=\"p-button-danger\"\r\n                    icon=\"pi pi-trash\"></p:commandButton>\r\n\r\n            </div>\r\n        </p_panel>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nimport { watchEffect, computed, ref, toRefs, watch} from 'vue';\r\nimport { useStore } from 'vuex';\r\n\r\nexport default {\r\n    components: {\r\n\r\n    },\r\n    props: {\r\n        state: {\r\n            type: Object,\r\n            required: true\r\n        },\r\n        estados: {\r\n            type: Object,\r\n            default: function () {\r\n                return {}\r\n            }\r\n        },\r\n    },\r\n    setup(props) {\r\n        const stateRefs = toRefs(props.state);\r\n\r\n\r\n        const checked = ref(null);\r\n        const store = useStore();\r\n\r\n        const roles = computed(() => store.getters.roles);\r\n\r\n        const metodosDePago = [\r\n            'Paypal',\r\n            'Bizum',\r\n            'Tarje de crédito'\r\n        ];\r\n\r\n        watch(\r\n            () => props.stateRefs.editedRow,\r\n            (newValue) => {\r\n                // Update the state.editedRow object in the parent component\r\n                stateRefs = { ...newValue };\r\n            },\r\n            { deep: true } // Set deep option to true to watch for changes in nested properties\r\n        );\r\n        const beforeCreate = () => {\r\n            // Lógica antes de crear un registro\r\n        };\r\n\r\n        const beforeSave = () => {\r\n            // Lógica antes de guardar un registro\r\n        };\r\n\r\n        const beforeDelete = () => {\r\n            // Lógica antes de eliminar un registro\r\n        };\r\n\r\n        watchEffect(() => {\r\n            beforeSave();\r\n        });\r\n\r\n        return {\r\n            stateRefs,\r\n            checked,\r\n            beforeCreate,\r\n            beforeSave,\r\n            beforeDelete,\r\n            roles,\r\n            metodosDePago,\r\n        };\r\n\r\n    },\r\n};\r\n</script>\r\n  \r\n\r\n<style lang=\"scss\" scoped>\r\n.panel-flex {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n}\r\n\r\n.panel-flex>div {\r\n    flex-basis: calc(25% - 10px);\r\n    margin-right: 10px;\r\n    margin-bottom: 20px;\r\n}\r\n</style>"],"mappings":"AAiEA,SAASA,WAAW,EAAEC,QAAQ,EAAEC,GAAG,EAAEC,MAAM,EAAEC,KAAK,QAAO,KAAK;AAC9D,SAASC,QAAO,QAAS,MAAM;AAE/B,eAAe;EACXC,UAAU,EAAE,CAEZ,CAAC;EACDC,KAAK,EAAE;IACHC,KAAK,EAAE;MACHC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACd,CAAC;IACDC,OAAO,EAAE;MACLH,IAAI,EAAEC,MAAM;MACZG,OAAO,EAAE,SAAAA,CAAA,EAAY;QACjB,OAAO,CAAC;MACZ;IACJ;EACJ,CAAC;EACDC,KAAKA,CAACP,KAAK,EAAE;IACT,MAAMQ,SAAQ,GAAIZ,MAAM,CAACI,KAAK,CAACC,KAAK,CAAC;IAGrC,MAAMQ,OAAM,GAAId,GAAG,CAAC,IAAI,CAAC;IACzB,MAAMe,KAAI,GAAIZ,QAAQ,EAAE;IAExB,MAAMa,KAAI,GAAIjB,QAAQ,CAAC,MAAMgB,KAAK,CAACE,OAAO,CAACD,KAAK,CAAC;IAEjD,MAAME,aAAY,GAAI,CAClB,QAAQ,EACR,OAAO,EACP,kBAAiB,CACpB;IAEDhB,KAAK,CACD,MAAMG,KAAK,CAACQ,SAAS,CAACM,SAAS,EAC9BC,QAAQ,IAAK;MACV;MACAP,SAAQ,GAAI;QAAE,GAAGO;MAAS,CAAC;IAC/B,CAAC,EACD;MAAEC,IAAI,EAAE;IAAK,EAAE;IAAA,CAClB;;IACD,MAAMC,YAAW,GAAIA,CAAA,KAAM;MACvB;IAAA,CACH;IAED,MAAMC,UAAS,GAAIA,CAAA,KAAM;MACrB;IAAA,CACH;IAED,MAAMC,YAAW,GAAIA,CAAA,KAAM;MACvB;IAAA,CACH;IAED1B,WAAW,CAAC,MAAM;MACdyB,UAAU,EAAE;IAChB,CAAC,CAAC;IAEF,OAAO;MACHV,SAAS;MACTC,OAAO;MACPQ,YAAY;MACZC,UAAU;MACVC,YAAY;MACZR,KAAK;MACLE;IACJ,CAAC;EAEL;AACJ,CAAC"},"metadata":{},"sourceType":"module"}