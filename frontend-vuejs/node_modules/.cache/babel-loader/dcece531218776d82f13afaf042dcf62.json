{"ast":null,"code":"import { ref, onBeforeUnmount } from 'vue';\nimport { getCurrentInstance } from 'vue';\nfunction findComponentRoot(instance) {\n  let root = instance;\n  while (root.parent) {\n    root = root.parent;\n  }\n  return root;\n}\nexport function useComponentRoot() {\n  const instance = getCurrentInstance();\n  return findComponentRoot(instance);\n}\nexport default {\n  setup() {\n    // Define un objeto ref con la propiedad 'nombre'\n    const nombre = ref('Soy una variable del mixin');\n\n    // Define un método 'rowSelectListener'\n    const rowSelectListener = () => {\n      // Lógica del método rowSelectListener\n      // ...\n      console.log('Rowselect del mixin');\n\n      // Modifica la propiedad 'nombre'\n      nombre.value = '¡La variable del mixin ha sido modificada!';\n\n      // Busca el componente que utiliza este mixin\n      const componentRoot = findComponentRoot(rowSelectListener);\n      if (componentRoot) {\n        // Busca todos los métodos anotados con @RowSelect en el componente\n        const rowSelectMethods = Object.keys(componentRoot.__vue__.$options.methods || {}).filter(key => key.startsWith('@RowSelect')).map(key => componentRoot.__vue__.$options.methods[key]);\n\n        // Ejecuta todos los métodos encontrados\n        rowSelectMethods.forEach(method => method());\n      }\n    };\n\n    // Llama al método 'rowSelectListener' en el evento 'beforeUnmount'\n    onBeforeUnmount(() => {\n      rowSelectListener();\n    });\n\n    // Exporta el objeto ref y el método 'rowSelectListener'\n    return {\n      nombre,\n      rowSelectListener\n    };\n  }\n};","map":{"version":3,"names":["ref","onBeforeUnmount","getCurrentInstance","findComponentRoot","instance","root","parent","useComponentRoot","setup","nombre","rowSelectListener","console","log","value","componentRoot","rowSelectMethods","Object","keys","__vue__","$options","methods","filter","key","startsWith","map","forEach","method"],"sources":["C:/Users/emalc/OneDrive/Escritorio/CRUD_keycloak_primeVue/keycloak-workshop/frontend-vuejs/src/service/TableBean.js"],"sourcesContent":["import { ref, onBeforeUnmount } from 'vue';\r\nimport { getCurrentInstance } from 'vue';\r\n\r\nfunction findComponentRoot(instance) {\r\n  let root = instance;\r\n  while (root.parent) {\r\n    root = root.parent;\r\n  }\r\n  return root;\r\n}\r\n\r\nexport function useComponentRoot() {\r\n  const instance = getCurrentInstance();\r\n  return findComponentRoot(instance);\r\n}\r\n\r\nexport default {\r\n  setup() {\r\n    // Define un objeto ref con la propiedad 'nombre'\r\n    const nombre = ref('Soy una variable del mixin');\r\n\r\n    // Define un método 'rowSelectListener'\r\n    const rowSelectListener = () => {\r\n      // Lógica del método rowSelectListener\r\n      // ...\r\n      console.log('Rowselect del mixin');\r\n\r\n      // Modifica la propiedad 'nombre'\r\n      nombre.value = '¡La variable del mixin ha sido modificada!';\r\n\r\n      // Busca el componente que utiliza este mixin\r\n      const componentRoot = findComponentRoot(rowSelectListener);\r\n      if (componentRoot) {\r\n        // Busca todos los métodos anotados con @RowSelect en el componente\r\n        const rowSelectMethods = Object.keys(componentRoot.__vue__.$options.methods || {})\r\n          .filter(key => key.startsWith('@RowSelect'))\r\n          .map(key => componentRoot.__vue__.$options.methods[key]);\r\n\r\n        // Ejecuta todos los métodos encontrados\r\n        rowSelectMethods.forEach(method => method());\r\n      }\r\n    };\r\n\r\n    // Llama al método 'rowSelectListener' en el evento 'beforeUnmount'\r\n    onBeforeUnmount(() => {\r\n      rowSelectListener();\r\n    });\r\n\r\n    // Exporta el objeto ref y el método 'rowSelectListener'\r\n    return {\r\n      nombre,\r\n      rowSelectListener,\r\n    };\r\n  },\r\n};\r\n"],"mappings":"AAAA,SAASA,GAAG,EAAEC,eAAe,QAAQ,KAAK;AAC1C,SAASC,kBAAkB,QAAQ,KAAK;AAExC,SAASC,iBAAiBA,CAACC,QAAQ,EAAE;EACnC,IAAIC,IAAI,GAAGD,QAAQ;EACnB,OAAOC,IAAI,CAACC,MAAM,EAAE;IAClBD,IAAI,GAAGA,IAAI,CAACC,MAAM;EACpB;EACA,OAAOD,IAAI;AACb;AAEA,OAAO,SAASE,gBAAgBA,CAAA,EAAG;EACjC,MAAMH,QAAQ,GAAGF,kBAAkB,EAAE;EACrC,OAAOC,iBAAiB,CAACC,QAAQ,CAAC;AACpC;AAEA,eAAe;EACbI,KAAKA,CAAA,EAAG;IACN;IACA,MAAMC,MAAM,GAAGT,GAAG,CAAC,4BAA4B,CAAC;;IAEhD;IACA,MAAMU,iBAAiB,GAAGA,CAAA,KAAM;MAC9B;MACA;MACAC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;;MAElC;MACAH,MAAM,CAACI,KAAK,GAAG,4CAA4C;;MAE3D;MACA,MAAMC,aAAa,GAAGX,iBAAiB,CAACO,iBAAiB,CAAC;MAC1D,IAAII,aAAa,EAAE;QACjB;QACA,MAAMC,gBAAgB,GAAGC,MAAM,CAACC,IAAI,CAACH,aAAa,CAACI,OAAO,CAACC,QAAQ,CAACC,OAAO,IAAI,CAAC,CAAC,CAAC,CAC/EC,MAAM,CAACC,GAAG,IAAIA,GAAG,CAACC,UAAU,CAAC,YAAY,CAAC,CAAC,CAC3CC,GAAG,CAACF,GAAG,IAAIR,aAAa,CAACI,OAAO,CAACC,QAAQ,CAACC,OAAO,CAACE,GAAG,CAAC,CAAC;;QAE1D;QACAP,gBAAgB,CAACU,OAAO,CAACC,MAAM,IAAIA,MAAM,EAAE,CAAC;MAC9C;IACF,CAAC;;IAED;IACAzB,eAAe,CAAC,MAAM;MACpBS,iBAAiB,EAAE;IACrB,CAAC,CAAC;;IAEF;IACA,OAAO;MACLD,MAAM;MACNC;IACF,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module"}