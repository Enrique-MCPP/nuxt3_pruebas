{"ast":null,"code":"import { openBlock, createElementBlock, normalizeClass, normalizeStyle, renderSlot, createElementVNode, Fragment, renderList, createCommentVNode } from 'vue';\nvar script = {\n  name: 'VirtualScroller',\n  emits: ['update:numToleratedItems', 'scroll', 'scroll-index-change', 'lazy-load'],\n  props: {\n    id: {\n      type: String,\n      default: null\n    },\n    style: null,\n    class: null,\n    items: {\n      type: Array,\n      default: null\n    },\n    itemSize: {\n      type: [Number, Array],\n      default: 0\n    },\n    scrollHeight: null,\n    scrollWidth: null,\n    orientation: {\n      type: String,\n      default: 'vertical'\n    },\n    numToleratedItems: {\n      type: Number,\n      default: null\n    },\n    delay: {\n      type: Number,\n      default: 0\n    },\n    lazy: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    loaderDisabled: {\n      type: Boolean,\n      default: false\n    },\n    columns: {\n      type: Array,\n      default: null\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    showSpacer: {\n      type: Boolean,\n      default: true\n    },\n    showLoader: {\n      type: Boolean,\n      default: false\n    },\n    tabindex: {\n      type: Number,\n      default: 0\n    }\n  },\n\n  data() {\n    return {\n      first: this.isBoth() ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      last: this.isBoth() ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      numItemsInViewport: this.isBoth() ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      lastScrollPos: this.isBoth() ? {\n        top: 0,\n        left: 0\n      } : 0,\n      d_numToleratedItems: this.numToleratedItems,\n      d_loading: this.loading,\n      loaderArr: [],\n      spacerStyle: {},\n      contentStyle: {}\n    };\n  },\n\n  element: null,\n  content: null,\n  lastScrollPos: null,\n  scrollTimeout: null,\n  watch: {\n    numToleratedItems(newValue) {\n      this.d_numToleratedItems = newValue;\n    },\n\n    loading(newValue) {\n      this.d_loading = newValue;\n    },\n\n    items(newValue, oldValue) {\n      if (!oldValue || oldValue.length !== (newValue || []).length) {\n        this.init();\n      }\n    },\n\n    orientation() {\n      this.lastScrollPos = this.isBoth() ? {\n        top: 0,\n        left: 0\n      } : 0;\n    }\n\n  },\n\n  mounted() {\n    this.init();\n    this.lastScrollPos = this.isBoth() ? {\n      top: 0,\n      left: 0\n    } : 0;\n  },\n\n  methods: {\n    init() {\n      this.setSize();\n      this.calculateOptions();\n      this.setSpacerSize();\n    },\n\n    isVertical() {\n      return this.orientation === 'vertical';\n    },\n\n    isHorizontal() {\n      return this.orientation === 'horizontal';\n    },\n\n    isBoth() {\n      return this.orientation === 'both';\n    },\n\n    scrollTo(options) {\n      this.element && this.element.scrollTo(options);\n    },\n\n    scrollToIndex(index, behavior = 'auto') {\n      const both = this.isBoth();\n      const horizontal = this.isHorizontal();\n      const first = this.first;\n      const {\n        numToleratedItems\n      } = this.calculateNumItems();\n      const itemSize = this.itemSize;\n\n      const calculateFirst = (_index = 0, _numT) => _index <= _numT ? 0 : _index;\n\n      const calculateCoord = (_first, _size) => _first * _size;\n\n      const scrollTo = (left = 0, top = 0) => this.scrollTo({\n        left,\n        top,\n        behavior\n      });\n\n      if (both) {\n        const newFirst = {\n          rows: calculateFirst(index[0], numToleratedItems[0]),\n          cols: calculateFirst(index[1], numToleratedItems[1])\n        };\n\n        if (newFirst.rows !== first.rows || newFirst.cols !== first.cols) {\n          scrollTo(calculateCoord(newFirst.cols, itemSize[1]), calculateCoord(newFirst.rows, itemSize[0]));\n        }\n      } else {\n        const newFirst = calculateFirst(index, numToleratedItems);\n\n        if (newFirst !== first) {\n          horizontal ? scrollTo(calculateCoord(newFirst, itemSize), 0) : scrollTo(0, calculateCoord(newFirst, itemSize));\n        }\n      }\n    },\n\n    scrollInView(index, to, behavior = 'auto') {\n      if (to) {\n        const both = this.isBoth();\n        const horizontal = this.isHorizontal();\n        const {\n          first,\n          viewport\n        } = this.getRenderedRange();\n\n        const scrollTo = (left = 0, top = 0) => this.scrollTo({\n          left,\n          top,\n          behavior\n        });\n\n        const isToStart = to === 'to-start';\n        const isToEnd = to === 'to-end';\n\n        if (isToStart) {\n          if (both) {\n            if (viewport.first.rows - first.rows > index[0]) {\n              scrollTo(viewport.first.cols * this.itemSize[1], (viewport.first.rows - 1) * this.itemSize[0]);\n            } else if (viewport.first.cols - first.cols > index[1]) {\n              scrollTo((viewport.first.cols - 1) * this.itemSize[1], viewport.first.rows * this.itemSize[0]);\n            }\n          } else {\n            if (viewport.first - first > index) {\n              const pos = (viewport.first - 1) * this.itemSize;\n              horizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n            }\n          }\n        } else if (isToEnd) {\n          if (both) {\n            if (viewport.last.rows - first.rows <= index[0] + 1) {\n              scrollTo(viewport.first.cols * this.itemSize[1], (viewport.first.rows + 1) * this.itemSize[0]);\n            } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n              scrollTo((viewport.first.cols + 1) * this.itemSize[1], viewport.first.rows * this.itemSize[0]);\n            }\n          } else {\n            if (viewport.last - first <= index + 1) {\n              const pos = (viewport.first + 1) * this.itemSize;\n              horizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n            }\n          }\n        }\n      } else {\n        this.scrollToIndex(index, behavior);\n      }\n    },\n\n    getRenderedRange() {\n      const calculateFirstInViewport = (_pos, _size) => Math.floor(_pos / (_size || _pos));\n\n      let firstInViewport = this.first;\n      let lastInViewport = 0;\n\n      if (this.element) {\n        const both = this.isBoth();\n        const horizontal = this.isHorizontal();\n        const scrollTop = this.element.scrollTop;\n        const scrollLeft = this.element.scrollLeft;\n\n        if (both) {\n          firstInViewport = {\n            rows: calculateFirstInViewport(scrollTop, this.itemSize[0]),\n            cols: calculateFirstInViewport(scrollLeft, this.itemSize[1])\n          };\n          lastInViewport = {\n            rows: firstInViewport.rows + this.numItemsInViewport.rows,\n            cols: firstInViewport.cols + this.numItemsInViewport.cols\n          };\n        } else {\n          const scrollPos = horizontal ? scrollLeft : scrollTop;\n          firstInViewport = calculateFirstInViewport(scrollPos, this.itemSize);\n          lastInViewport = firstInViewport + this.numItemsInViewport;\n        }\n      }\n\n      return {\n        first: this.first,\n        last: this.last,\n        viewport: {\n          first: firstInViewport,\n          last: lastInViewport\n        }\n      };\n    },\n\n    calculateNumItems() {\n      const both = this.isBoth();\n      const horizontal = this.isHorizontal();\n      const itemSize = this.itemSize;\n      const contentPos = this.getContentPosition();\n      const contentWidth = this.element ? this.element.offsetWidth - contentPos.left : 0;\n      const contentHeight = this.element ? this.element.offsetHeight - contentPos.top : 0;\n\n      const calculateNumItemsInViewport = (_contentSize, _itemSize) => Math.ceil(_contentSize / (_itemSize || _contentSize));\n\n      const calculateNumToleratedItems = _numItems => Math.ceil(_numItems / 2);\n\n      const numItemsInViewport = both ? {\n        rows: calculateNumItemsInViewport(contentHeight, itemSize[0]),\n        cols: calculateNumItemsInViewport(contentWidth, itemSize[1])\n      } : calculateNumItemsInViewport(horizontal ? contentWidth : contentHeight, itemSize);\n      const numToleratedItems = this.d_numToleratedItems || (both ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n      return {\n        numItemsInViewport,\n        numToleratedItems\n      };\n    },\n\n    calculateOptions() {\n      const both = this.isBoth();\n      const first = this.first;\n      const {\n        numItemsInViewport,\n        numToleratedItems\n      } = this.calculateNumItems();\n\n      const calculateLast = (_first, _num, _numT, _isCols) => this.getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n\n      const last = both ? {\n        rows: calculateLast(first.rows, numItemsInViewport.rows, numToleratedItems[0]),\n        cols: calculateLast(first.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n      } : calculateLast(first, numItemsInViewport, numToleratedItems);\n      this.last = last;\n      this.numItemsInViewport = numItemsInViewport;\n      this.d_numToleratedItems = numToleratedItems;\n      this.$emit('update:numToleratedItems', this.d_numToleratedItems);\n\n      if (this.showLoader) {\n        this.loaderArr = both ? Array.from({\n          length: numItemsInViewport.rows\n        }).map(() => Array.from({\n          length: numItemsInViewport.cols\n        })) : Array.from({\n          length: numItemsInViewport\n        });\n      }\n\n      if (this.lazy) {\n        this.$emit('lazy-load', {\n          first,\n          last\n        });\n      }\n    },\n\n    getLast(last = 0, isCols) {\n      if (this.items) {\n        return Math.min(isCols ? (this.columns || this.items[0]).length : this.items.length, last);\n      }\n\n      return 0;\n    },\n\n    getContentPosition() {\n      if (this.content) {\n        const style = getComputedStyle(this.content);\n        const left = parseInt(style.paddingLeft, 10) + Math.max(parseInt(style.left, 10), 0);\n        const right = parseInt(style.paddingRight, 10) + Math.max(parseInt(style.right, 10), 0);\n        const top = parseInt(style.paddingTop, 10) + Math.max(parseInt(style.top, 10), 0);\n        const bottom = parseInt(style.paddingBottom, 10) + Math.max(parseInt(style.bottom, 10), 0);\n        return {\n          left,\n          right,\n          top,\n          bottom,\n          x: left + right,\n          y: top + bottom\n        };\n      }\n\n      return {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        x: 0,\n        y: 0\n      };\n    },\n\n    setSize() {\n      if (this.element) {\n        const both = this.isBoth();\n        const horizontal = this.isHorizontal();\n        const parentElement = this.element.parentElement;\n        const width = this.scrollWidth || `${this.element.offsetWidth || parentElement.offsetWidth}px`;\n        const height = this.scrollHeight || `${this.element.offsetHeight || parentElement.offsetHeight}px`;\n\n        const setProp = (_name, _value) => this.element.style[_name] = _value;\n\n        if (both || horizontal) {\n          setProp('height', height);\n          setProp('width', width);\n        } else {\n          setProp('height', height);\n        }\n      }\n    },\n\n    setSpacerSize() {\n      const items = this.items;\n\n      if (items) {\n        const both = this.isBoth();\n        const horizontal = this.isHorizontal();\n        const contentPos = this.getContentPosition();\n\n        const setProp = (_name, _value, _size, _cpos = 0) => this.spacerStyle = { ...this.spacerStyle,\n          ...{\n            [`${_name}`]: (_value || []).length * _size + _cpos + 'px'\n          }\n        };\n\n        if (both) {\n          setProp('height', items, this.itemSize[0], contentPos.y);\n          setProp('width', this.columns || items[1], this.itemSize[1], contentPos.x);\n        } else {\n          horizontal ? setProp('width', this.columns || items, this.itemSize, contentPos.x) : setProp('height', items, this.itemSize, contentPos.y);\n        }\n      }\n    },\n\n    setContentPosition(pos) {\n      if (this.content) {\n        const both = this.isBoth();\n        const horizontal = this.isHorizontal();\n        const first = pos ? pos.first : this.first;\n\n        const calculateTranslateVal = (_first, _size) => _first * _size;\n\n        const setTransform = (_x = 0, _y = 0) => {\n          this.contentStyle = { ...this.contentStyle,\n            ...{\n              transform: `translate3d(${_x}px, ${_y}px, 0)`\n            }\n          };\n        };\n\n        if (both) {\n          setTransform(calculateTranslateVal(first.cols, this.itemSize[1]), calculateTranslateVal(first.rows, this.itemSize[0]));\n        } else {\n          const translateVal = calculateTranslateVal(first, this.itemSize);\n          horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n        }\n      }\n    },\n\n    onScrollPositionChange(event) {\n      const target = event.target;\n      const both = this.isBoth();\n      const horizontal = this.isHorizontal();\n      const contentPos = this.getContentPosition();\n\n      const calculateScrollPos = (_pos, _cpos) => _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n\n      const calculateCurrentIndex = (_pos, _size) => Math.floor(_pos / (_size || _pos));\n\n      const calculateTriggerIndex = (_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) => {\n        return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n      };\n\n      const calculateFirst = (_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) => {\n        if (_currentIndex <= _numT) return 0;else return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\n      };\n\n      const calculateLast = (_currentIndex, _first, _last, _num, _numT, _isCols) => {\n        let lastValue = _first + _num + 2 * _numT;\n\n        if (_currentIndex >= _numT) {\n          lastValue += _numT + 1;\n        }\n\n        return this.getLast(lastValue, _isCols);\n      };\n\n      const scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n      const scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n      let newFirst = both ? {\n        rows: 0,\n        cols: 0\n      } : 0;\n      let newLast = this.last;\n      let isRangeChanged = false;\n      let newScrollPos = this.lastScrollPos;\n\n      if (both) {\n        const isScrollDown = this.lastScrollPos.top <= scrollTop;\n        const isScrollRight = this.lastScrollPos.left <= scrollLeft;\n        const currentIndex = {\n          rows: calculateCurrentIndex(scrollTop, this.itemSize[0]),\n          cols: calculateCurrentIndex(scrollLeft, this.itemSize[1])\n        };\n        const triggerIndex = {\n          rows: calculateTriggerIndex(currentIndex.rows, this.first.rows, this.last.rows, this.numItemsInViewport.rows, this.d_numToleratedItems[0], isScrollDown),\n          cols: calculateTriggerIndex(currentIndex.cols, this.first.cols, this.last.cols, this.numItemsInViewport.cols, this.d_numToleratedItems[1], isScrollRight)\n        };\n        newFirst = {\n          rows: calculateFirst(currentIndex.rows, triggerIndex.rows, this.first.rows, this.last.rows, this.numItemsInViewport.rows, this.d_numToleratedItems[0], isScrollDown),\n          cols: calculateFirst(currentIndex.cols, triggerIndex.cols, this.first.cols, this.last.cols, this.numItemsInViewport.cols, this.d_numToleratedItems[1], isScrollRight)\n        };\n        newLast = {\n          rows: calculateLast(currentIndex.rows, newFirst.rows, this.last.rows, this.numItemsInViewport.rows, this.d_numToleratedItems[0]),\n          cols: calculateLast(currentIndex.cols, newFirst.cols, this.last.cols, this.numItemsInViewport.cols, this.d_numToleratedItems[1], true)\n        };\n        isRangeChanged = newFirst.rows !== this.first.rows || newLast.rows !== this.last.rows || newFirst.cols !== this.first.cols || newLast.cols !== this.last.cols;\n        newScrollPos = {\n          top: scrollTop,\n          left: scrollLeft\n        };\n      } else {\n        const scrollPos = horizontal ? scrollLeft : scrollTop;\n        const isScrollDownOrRight = this.lastScrollPos <= scrollPos;\n        const currentIndex = calculateCurrentIndex(scrollPos, this.itemSize);\n        const triggerIndex = calculateTriggerIndex(currentIndex, this.first, this.last, this.numItemsInViewport, this.d_numToleratedItems, isScrollDownOrRight);\n        newFirst = calculateFirst(currentIndex, triggerIndex, this.first, this.last, this.numItemsInViewport, this.d_numToleratedItems, isScrollDownOrRight);\n        newLast = calculateLast(currentIndex, newFirst, this.last, this.numItemsInViewport, this.d_numToleratedItems);\n        isRangeChanged = newFirst !== this.first || newLast !== this.last;\n        newScrollPos = scrollPos;\n      }\n\n      return {\n        first: newFirst,\n        last: newLast,\n        isRangeChanged,\n        scrollPos: newScrollPos\n      };\n    },\n\n    onScrollChange(event) {\n      const {\n        first,\n        last,\n        isRangeChanged,\n        scrollPos\n      } = this.onScrollPositionChange(event);\n\n      if (isRangeChanged) {\n        const newState = {\n          first,\n          last\n        };\n        this.setContentPosition(newState);\n        this.first = first;\n        this.last = last;\n        this.lastScrollPos = scrollPos;\n        this.$emit('scroll-index-change', newState);\n\n        if (this.lazy) {\n          this.$emit('lazy-load', newState);\n        }\n      }\n    },\n\n    onScroll(event) {\n      this.$emit('scroll', event);\n\n      if (this.delay) {\n        if (this.scrollTimeout) {\n          clearTimeout(this.scrollTimeout);\n        }\n\n        if (!this.d_loading && this.showLoader) {\n          const {\n            isRangeChanged: changed\n          } = this.onScrollPositionChange(event);\n          changed && (this.d_loading = true);\n        }\n\n        this.scrollTimeout = setTimeout(() => {\n          this.onScrollChange(event);\n\n          if (this.d_loading && this.showLoader && !this.lazy) {\n            this.d_loading = false;\n          }\n        }, this.delay);\n      } else {\n        this.onScrollChange(event);\n      }\n    },\n\n    getOptions(renderedIndex) {\n      const count = (this.items || []).length;\n      const index = this.isBoth() ? this.first.rows + renderedIndex : this.first + renderedIndex;\n      return {\n        index,\n        count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0\n      };\n    },\n\n    getLoaderOptions(index, extOptions) {\n      let count = this.loaderArr.length;\n      return {\n        index,\n        count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0,\n        ...extOptions\n      };\n    },\n\n    elementRef(el) {\n      this.element = el;\n    },\n\n    contentRef(el) {\n      this.content = el;\n    }\n\n  },\n  computed: {\n    containerClass() {\n      return ['p-virtualscroller', {\n        'p-both-scroll': this.isBoth(),\n        'p-horizontal-scroll': this.isHorizontal()\n      }, this.class];\n    },\n\n    contentClass() {\n      return ['p-virtualscroller-content', {\n        'p-virtualscroller-loading': this.d_loading\n      }];\n    },\n\n    loaderClass() {\n      return ['p-virtualscroller-loader', {\n        'p-component-overlay': !this.$slots.loader\n      }];\n    },\n\n    loadedItems() {\n      const items = this.items;\n\n      if (items && !this.d_loading) {\n        if (this.isBoth()) {\n          return items.slice(this.first.rows, this.last.rows).map(item => this.columns ? item : item.slice(this.first.cols, this.last.cols));\n        } else if (this.isHorizontal() && this.columns) return items;else return items.slice(this.first, this.last);\n      }\n\n      return [];\n    },\n\n    loadedRows() {\n      return this.d_loading ? this.loaderDisabled ? this.loaderArr : [] : this.loadedItems;\n    },\n\n    loadedColumns() {\n      if (this.columns) {\n        const both = this.isBoth();\n        const horizontal = this.isHorizontal();\n\n        if (both || horizontal) {\n          return this.d_loading && this.loaderDisabled ? both ? this.loaderArr[0] : this.loaderArr : this.columns.slice(both ? this.first.cols : this.first, both ? this.last.cols : this.last);\n        }\n      }\n\n      return this.columns;\n    }\n\n  }\n};\nconst _hoisted_1 = [\"tabindex\"];\nconst _hoisted_2 = {\n  key: 1,\n  class: \"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return !$props.disabled ? (openBlock(), createElementBlock(\"div\", {\n    key: 0,\n    ref: $options.elementRef,\n    class: normalizeClass($options.containerClass),\n    tabindex: $props.tabindex,\n    style: normalizeStyle($props.style),\n    onScroll: _cache[0] || (_cache[0] = (...args) => $options.onScroll && $options.onScroll(...args))\n  }, [renderSlot(_ctx.$slots, \"content\", {\n    styleClass: $options.contentClass,\n    items: $options.loadedItems,\n    getItemOptions: $options.getOptions,\n    loading: $data.d_loading,\n    getLoaderOptions: $options.getLoaderOptions,\n    itemSize: $props.itemSize,\n    rows: $options.loadedRows,\n    columns: $options.loadedColumns,\n    contentRef: $options.contentRef,\n    spacerStyle: $data.spacerStyle,\n    contentStyle: $data.contentStyle,\n    vertical: $options.isVertical(),\n    horizontal: $options.isHorizontal(),\n    both: $options.isBoth()\n  }, () => [createElementVNode(\"div\", {\n    ref: $options.contentRef,\n    class: normalizeClass($options.contentClass),\n    style: normalizeStyle($data.contentStyle)\n  }, [(openBlock(true), createElementBlock(Fragment, null, renderList($options.loadedItems, (item, index) => {\n    return renderSlot(_ctx.$slots, \"item\", {\n      key: index,\n      item: item,\n      options: $options.getOptions(index)\n    });\n  }), 128))], 6)]), $props.showSpacer ? (openBlock(), createElementBlock(\"div\", {\n    key: 0,\n    class: \"p-virtualscroller-spacer\",\n    style: normalizeStyle($data.spacerStyle)\n  }, null, 4)) : createCommentVNode(\"\", true), !$props.loaderDisabled && $props.showLoader && $data.d_loading ? (openBlock(), createElementBlock(\"div\", {\n    key: 1,\n    class: normalizeClass($options.loaderClass)\n  }, [_ctx.$slots && _ctx.$slots.loader ? (openBlock(true), createElementBlock(Fragment, {\n    key: 0\n  }, renderList($data.loaderArr, (_, index) => {\n    return renderSlot(_ctx.$slots, \"loader\", {\n      key: index,\n      options: $options.getLoaderOptions(index, $options.isBoth() && {\n        numCols: _ctx.d_numItemsInViewport.cols\n      })\n    });\n  }), 128)) : (openBlock(), createElementBlock(\"i\", _hoisted_2))], 2)) : createCommentVNode(\"\", true)], 46, _hoisted_1)) : (openBlock(), createElementBlock(Fragment, {\n    key: 1\n  }, [renderSlot(_ctx.$slots, \"default\"), renderSlot(_ctx.$slots, \"content\", {\n    items: $props.items,\n    rows: $props.items,\n    columns: $options.loadedColumns\n  })], 64));\n}\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \"\\n.p-virtualscroller {\\n    position: relative;\\n    overflow: auto;\\n    contain: strict;\\n    transform: translateZ(0);\\n    will-change: scroll-position;\\n    outline: 0 none;\\n}\\n.p-virtualscroller-content {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    contain: content;\\n    min-height: 100%;\\n    min-width: 100%;\\n    will-change: transform;\\n}\\n.p-virtualscroller-spacer {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    height: 1px;\\n    width: 1px;\\n    transform-origin: 0 0;\\n    pointer-events: none;\\n}\\n.p-virtualscroller .p-virtualscroller-loader {\\n    position: sticky;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n}\\n.p-virtualscroller-loader.p-component-overlay {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n}\\n\";\nstyleInject(css_248z);\nscript.render = render;\nexport { script as default };","map":{"version":3,"sources":["C:/Users/emalc/OneDrive/Escritorio/CRUD_keycloak_primeVue/keycloak-workshop/frontend-vuejs/node_modules/primevue/virtualscroller/virtualscroller.esm.js"],"names":["openBlock","createElementBlock","normalizeClass","normalizeStyle","renderSlot","createElementVNode","Fragment","renderList","createCommentVNode","script","name","emits","props","id","type","String","default","style","class","items","Array","itemSize","Number","scrollHeight","scrollWidth","orientation","numToleratedItems","delay","lazy","Boolean","disabled","loaderDisabled","columns","loading","showSpacer","showLoader","tabindex","data","first","isBoth","rows","cols","last","numItemsInViewport","lastScrollPos","top","left","d_numToleratedItems","d_loading","loaderArr","spacerStyle","contentStyle","element","content","scrollTimeout","watch","newValue","oldValue","length","init","mounted","methods","setSize","calculateOptions","setSpacerSize","isVertical","isHorizontal","scrollTo","options","scrollToIndex","index","behavior","both","horizontal","calculateNumItems","calculateFirst","_index","_numT","calculateCoord","_first","_size","newFirst","scrollInView","to","viewport","getRenderedRange","isToStart","isToEnd","pos","calculateFirstInViewport","_pos","Math","floor","firstInViewport","lastInViewport","scrollTop","scrollLeft","scrollPos","contentPos","getContentPosition","contentWidth","offsetWidth","contentHeight","offsetHeight","calculateNumItemsInViewport","_contentSize","_itemSize","ceil","calculateNumToleratedItems","_numItems","calculateLast","_num","_isCols","getLast","$emit","from","map","isCols","min","getComputedStyle","parseInt","paddingLeft","max","right","paddingRight","paddingTop","bottom","paddingBottom","x","y","parentElement","width","height","setProp","_name","_value","_cpos","setContentPosition","calculateTranslateVal","setTransform","_x","_y","transform","translateVal","onScrollPositionChange","event","target","calculateScrollPos","calculateCurrentIndex","calculateTriggerIndex","_currentIndex","_last","_isScrollDownOrRight","_triggerIndex","lastValue","newLast","isRangeChanged","newScrollPos","isScrollDown","isScrollRight","currentIndex","triggerIndex","isScrollDownOrRight","onScrollChange","newState","onScroll","clearTimeout","changed","setTimeout","getOptions","renderedIndex","count","even","odd","getLoaderOptions","extOptions","elementRef","el","contentRef","computed","containerClass","contentClass","loaderClass","$slots","loader","loadedItems","slice","item","loadedRows","loadedColumns","_hoisted_1","_hoisted_2","key","render","_ctx","_cache","$props","$setup","$data","$options","ref","args","styleClass","getItemOptions","vertical","_","numCols","d_numItemsInViewport","styleInject","css","insertAt","document","head","getElementsByTagName","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","css_248z"],"mappings":"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","sourcesContent":["import { openBlock, createElementBlock, normalizeClass, normalizeStyle, renderSlot, createElementVNode, Fragment, renderList, createCommentVNode } from 'vue';\n\nvar script = {\n    name: 'VirtualScroller',\n    emits: ['update:numToleratedItems', 'scroll', 'scroll-index-change', 'lazy-load'],\n    props: {\n        id: {\n            type: String,\n            default: null\n        },\n        style: null,\n        class: null,\n        items: {\n            type: Array,\n            default: null\n        },\n        itemSize: {\n            type: [Number, Array],\n            default: 0\n        },\n        scrollHeight: null,\n        scrollWidth: null,\n        orientation: {\n            type: String,\n            default: 'vertical'\n        },\n        numToleratedItems: {\n            type: Number,\n            default: null\n        },\n        delay: {\n            type: Number,\n            default: 0\n        },\n        lazy: {\n            type: Boolean,\n            default: false\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        loaderDisabled: {\n            type: Boolean,\n            default: false\n        },\n        columns: {\n            type: Array,\n            default: null\n        },\n        loading: {\n            type: Boolean,\n            default: false\n        },\n        showSpacer: {\n            type: Boolean,\n            default: true\n        },\n        showLoader: {\n            type: Boolean,\n            default: false\n        },\n        tabindex: {\n            type: Number,\n            default: 0\n        }\n    },\n    data() {\n        return {\n            first: this.isBoth() ? { rows: 0, cols: 0 } : 0,\n            last: this.isBoth() ? { rows: 0, cols: 0 } : 0,\n            numItemsInViewport: this.isBoth() ? { rows: 0, cols: 0 } : 0,\n            lastScrollPos: this.isBoth() ? { top: 0, left: 0 } : 0,\n            d_numToleratedItems: this.numToleratedItems,\n            d_loading: this.loading,\n            loaderArr: [],\n            spacerStyle: {},\n            contentStyle: {}\n        };\n    },\n    element: null,\n    content: null,\n    lastScrollPos: null,\n    scrollTimeout: null,\n    watch: {\n        numToleratedItems(newValue) {\n            this.d_numToleratedItems = newValue;\n        },\n        loading(newValue) {\n            this.d_loading = newValue;\n        },\n        items(newValue, oldValue) {\n            if (!oldValue || oldValue.length !== (newValue || []).length) {\n                this.init();\n            }\n        },\n        orientation() {\n            this.lastScrollPos = this.isBoth() ? { top: 0, left: 0 } : 0;\n        }\n    },\n    mounted() {\n        this.init();\n\n        this.lastScrollPos = this.isBoth() ? { top: 0, left: 0 } : 0;\n    },\n    methods: {\n        init() {\n            this.setSize();\n            this.calculateOptions();\n            this.setSpacerSize();\n        },\n        isVertical() {\n            return this.orientation === 'vertical';\n        },\n        isHorizontal() {\n            return this.orientation === 'horizontal';\n        },\n        isBoth() {\n            return this.orientation === 'both';\n        },\n        scrollTo(options) {\n            this.element && this.element.scrollTo(options);\n        },\n        scrollToIndex(index, behavior = 'auto') {\n            const both = this.isBoth();\n            const horizontal = this.isHorizontal();\n            const first = this.first;\n            const { numToleratedItems } = this.calculateNumItems();\n            const itemSize = this.itemSize;\n            const calculateFirst = (_index = 0, _numT) => (_index <= _numT ? 0 : _index);\n            const calculateCoord = (_first, _size) => _first * _size;\n            const scrollTo = (left = 0, top = 0) => this.scrollTo({ left, top, behavior });\n\n            if (both) {\n                const newFirst = { rows: calculateFirst(index[0], numToleratedItems[0]), cols: calculateFirst(index[1], numToleratedItems[1]) };\n\n                if (newFirst.rows !== first.rows || newFirst.cols !== first.cols) {\n                    scrollTo(calculateCoord(newFirst.cols, itemSize[1]), calculateCoord(newFirst.rows, itemSize[0]));\n                }\n            } else {\n                const newFirst = calculateFirst(index, numToleratedItems);\n\n                if (newFirst !== first) {\n                    horizontal ? scrollTo(calculateCoord(newFirst, itemSize), 0) : scrollTo(0, calculateCoord(newFirst, itemSize));\n                }\n            }\n        },\n        scrollInView(index, to, behavior = 'auto') {\n            if (to) {\n                const both = this.isBoth();\n                const horizontal = this.isHorizontal();\n                const { first, viewport } = this.getRenderedRange();\n                const scrollTo = (left = 0, top = 0) => this.scrollTo({ left, top, behavior });\n                const isToStart = to === 'to-start';\n                const isToEnd = to === 'to-end';\n\n                if (isToStart) {\n                    if (both) {\n                        if (viewport.first.rows - first.rows > index[0]) {\n                            scrollTo(viewport.first.cols * this.itemSize[1], (viewport.first.rows - 1) * this.itemSize[0]);\n                        } else if (viewport.first.cols - first.cols > index[1]) {\n                            scrollTo((viewport.first.cols - 1) * this.itemSize[1], viewport.first.rows * this.itemSize[0]);\n                        }\n                    } else {\n                        if (viewport.first - first > index) {\n                            const pos = (viewport.first - 1) * this.itemSize;\n\n                            horizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n                        }\n                    }\n                } else if (isToEnd) {\n                    if (both) {\n                        if (viewport.last.rows - first.rows <= index[0] + 1) {\n                            scrollTo(viewport.first.cols * this.itemSize[1], (viewport.first.rows + 1) * this.itemSize[0]);\n                        } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n                            scrollTo((viewport.first.cols + 1) * this.itemSize[1], viewport.first.rows * this.itemSize[0]);\n                        }\n                    } else {\n                        if (viewport.last - first <= index + 1) {\n                            const pos = (viewport.first + 1) * this.itemSize;\n\n                            horizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n                        }\n                    }\n                }\n            } else {\n                this.scrollToIndex(index, behavior);\n            }\n        },\n        getRenderedRange() {\n            const calculateFirstInViewport = (_pos, _size) => Math.floor(_pos / (_size || _pos));\n\n            let firstInViewport = this.first;\n            let lastInViewport = 0;\n\n            if (this.element) {\n                const both = this.isBoth();\n                const horizontal = this.isHorizontal();\n                const scrollTop = this.element.scrollTop;\n                const scrollLeft = this.element.scrollLeft;\n\n                if (both) {\n                    firstInViewport = { rows: calculateFirstInViewport(scrollTop, this.itemSize[0]), cols: calculateFirstInViewport(scrollLeft, this.itemSize[1]) };\n                    lastInViewport = { rows: firstInViewport.rows + this.numItemsInViewport.rows, cols: firstInViewport.cols + this.numItemsInViewport.cols };\n                } else {\n                    const scrollPos = horizontal ? scrollLeft : scrollTop;\n\n                    firstInViewport = calculateFirstInViewport(scrollPos, this.itemSize);\n                    lastInViewport = firstInViewport + this.numItemsInViewport;\n                }\n            }\n\n            return {\n                first: this.first,\n                last: this.last,\n                viewport: {\n                    first: firstInViewport,\n                    last: lastInViewport\n                }\n            };\n        },\n        calculateNumItems() {\n            const both = this.isBoth();\n            const horizontal = this.isHorizontal();\n            const itemSize = this.itemSize;\n            const contentPos = this.getContentPosition();\n            const contentWidth = this.element ? this.element.offsetWidth - contentPos.left : 0;\n            const contentHeight = this.element ? this.element.offsetHeight - contentPos.top : 0;\n            const calculateNumItemsInViewport = (_contentSize, _itemSize) => Math.ceil(_contentSize / (_itemSize || _contentSize));\n            const calculateNumToleratedItems = (_numItems) => Math.ceil(_numItems / 2);\n            const numItemsInViewport = both\n                ? { rows: calculateNumItemsInViewport(contentHeight, itemSize[0]), cols: calculateNumItemsInViewport(contentWidth, itemSize[1]) }\n                : calculateNumItemsInViewport(horizontal ? contentWidth : contentHeight, itemSize);\n\n            const numToleratedItems = this.d_numToleratedItems || (both ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n\n            return { numItemsInViewport, numToleratedItems };\n        },\n        calculateOptions() {\n            const both = this.isBoth();\n            const first = this.first;\n            const { numItemsInViewport, numToleratedItems } = this.calculateNumItems();\n            const calculateLast = (_first, _num, _numT, _isCols) => this.getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n            const last = both\n                ? { rows: calculateLast(first.rows, numItemsInViewport.rows, numToleratedItems[0]), cols: calculateLast(first.cols, numItemsInViewport.cols, numToleratedItems[1], true) }\n                : calculateLast(first, numItemsInViewport, numToleratedItems);\n\n            this.last = last;\n            this.numItemsInViewport = numItemsInViewport;\n            this.d_numToleratedItems = numToleratedItems;\n            this.$emit('update:numToleratedItems', this.d_numToleratedItems);\n\n            if (this.showLoader) {\n                this.loaderArr = both ? Array.from({ length: numItemsInViewport.rows }).map(() => Array.from({ length: numItemsInViewport.cols })) : Array.from({ length: numItemsInViewport });\n            }\n\n            if (this.lazy) {\n                this.$emit('lazy-load', { first, last });\n            }\n        },\n        getLast(last = 0, isCols) {\n            if (this.items) {\n                return Math.min(isCols ? (this.columns || this.items[0]).length : this.items.length, last);\n            }\n\n            return 0;\n        },\n        getContentPosition() {\n            if (this.content) {\n                const style = getComputedStyle(this.content);\n                const left = parseInt(style.paddingLeft, 10) + Math.max(parseInt(style.left, 10), 0);\n                const right = parseInt(style.paddingRight, 10) + Math.max(parseInt(style.right, 10), 0);\n                const top = parseInt(style.paddingTop, 10) + Math.max(parseInt(style.top, 10), 0);\n                const bottom = parseInt(style.paddingBottom, 10) + Math.max(parseInt(style.bottom, 10), 0);\n\n                return { left, right, top, bottom, x: left + right, y: top + bottom };\n            }\n\n            return { left: 0, right: 0, top: 0, bottom: 0, x: 0, y: 0 };\n        },\n        setSize() {\n            if (this.element) {\n                const both = this.isBoth();\n                const horizontal = this.isHorizontal();\n                const parentElement = this.element.parentElement;\n                const width = this.scrollWidth || `${this.element.offsetWidth || parentElement.offsetWidth}px`;\n                const height = this.scrollHeight || `${this.element.offsetHeight || parentElement.offsetHeight}px`;\n                const setProp = (_name, _value) => (this.element.style[_name] = _value);\n\n                if (both || horizontal) {\n                    setProp('height', height);\n                    setProp('width', width);\n                } else {\n                    setProp('height', height);\n                }\n            }\n        },\n        setSpacerSize() {\n            const items = this.items;\n\n            if (items) {\n                const both = this.isBoth();\n                const horizontal = this.isHorizontal();\n                const contentPos = this.getContentPosition();\n                const setProp = (_name, _value, _size, _cpos = 0) => (this.spacerStyle = { ...this.spacerStyle, ...{ [`${_name}`]: (_value || []).length * _size + _cpos + 'px' } });\n\n                if (both) {\n                    setProp('height', items, this.itemSize[0], contentPos.y);\n                    setProp('width', this.columns || items[1], this.itemSize[1], contentPos.x);\n                } else {\n                    horizontal ? setProp('width', this.columns || items, this.itemSize, contentPos.x) : setProp('height', items, this.itemSize, contentPos.y);\n                }\n            }\n        },\n        setContentPosition(pos) {\n            if (this.content) {\n                const both = this.isBoth();\n                const horizontal = this.isHorizontal();\n                const first = pos ? pos.first : this.first;\n                const calculateTranslateVal = (_first, _size) => _first * _size;\n\n                const setTransform = (_x = 0, _y = 0) => {\n                    this.contentStyle = { ...this.contentStyle, ...{ transform: `translate3d(${_x}px, ${_y}px, 0)` } };\n                };\n\n                if (both) {\n                    setTransform(calculateTranslateVal(first.cols, this.itemSize[1]), calculateTranslateVal(first.rows, this.itemSize[0]));\n                } else {\n                    const translateVal = calculateTranslateVal(first, this.itemSize);\n\n                    horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n                }\n            }\n        },\n        onScrollPositionChange(event) {\n            const target = event.target;\n            const both = this.isBoth();\n            const horizontal = this.isHorizontal();\n            const contentPos = this.getContentPosition();\n            const calculateScrollPos = (_pos, _cpos) => (_pos ? (_pos > _cpos ? _pos - _cpos : _pos) : 0);\n            const calculateCurrentIndex = (_pos, _size) => Math.floor(_pos / (_size || _pos));\n\n            const calculateTriggerIndex = (_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) => {\n                return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n            };\n\n            const calculateFirst = (_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) => {\n                if (_currentIndex <= _numT) return 0;\n                else return Math.max(0, _isScrollDownOrRight ? (_currentIndex < _triggerIndex ? _first : _currentIndex - _numT) : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\n            };\n\n            const calculateLast = (_currentIndex, _first, _last, _num, _numT, _isCols) => {\n                let lastValue = _first + _num + 2 * _numT;\n\n                if (_currentIndex >= _numT) {\n                    lastValue += _numT + 1;\n                }\n\n                return this.getLast(lastValue, _isCols);\n            };\n\n            const scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n            const scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n\n            let newFirst = both ? { rows: 0, cols: 0 } : 0;\n            let newLast = this.last;\n            let isRangeChanged = false;\n            let newScrollPos = this.lastScrollPos;\n\n            if (both) {\n                const isScrollDown = this.lastScrollPos.top <= scrollTop;\n                const isScrollRight = this.lastScrollPos.left <= scrollLeft;\n                const currentIndex = { rows: calculateCurrentIndex(scrollTop, this.itemSize[0]), cols: calculateCurrentIndex(scrollLeft, this.itemSize[1]) };\n                const triggerIndex = {\n                    rows: calculateTriggerIndex(currentIndex.rows, this.first.rows, this.last.rows, this.numItemsInViewport.rows, this.d_numToleratedItems[0], isScrollDown),\n                    cols: calculateTriggerIndex(currentIndex.cols, this.first.cols, this.last.cols, this.numItemsInViewport.cols, this.d_numToleratedItems[1], isScrollRight)\n                };\n\n                newFirst = {\n                    rows: calculateFirst(currentIndex.rows, triggerIndex.rows, this.first.rows, this.last.rows, this.numItemsInViewport.rows, this.d_numToleratedItems[0], isScrollDown),\n                    cols: calculateFirst(currentIndex.cols, triggerIndex.cols, this.first.cols, this.last.cols, this.numItemsInViewport.cols, this.d_numToleratedItems[1], isScrollRight)\n                };\n                newLast = {\n                    rows: calculateLast(currentIndex.rows, newFirst.rows, this.last.rows, this.numItemsInViewport.rows, this.d_numToleratedItems[0]),\n                    cols: calculateLast(currentIndex.cols, newFirst.cols, this.last.cols, this.numItemsInViewport.cols, this.d_numToleratedItems[1], true)\n                };\n\n                isRangeChanged = newFirst.rows !== this.first.rows || newLast.rows !== this.last.rows || newFirst.cols !== this.first.cols || newLast.cols !== this.last.cols;\n                newScrollPos = { top: scrollTop, left: scrollLeft };\n            } else {\n                const scrollPos = horizontal ? scrollLeft : scrollTop;\n                const isScrollDownOrRight = this.lastScrollPos <= scrollPos;\n                const currentIndex = calculateCurrentIndex(scrollPos, this.itemSize);\n                const triggerIndex = calculateTriggerIndex(currentIndex, this.first, this.last, this.numItemsInViewport, this.d_numToleratedItems, isScrollDownOrRight);\n\n                newFirst = calculateFirst(currentIndex, triggerIndex, this.first, this.last, this.numItemsInViewport, this.d_numToleratedItems, isScrollDownOrRight);\n                newLast = calculateLast(currentIndex, newFirst, this.last, this.numItemsInViewport, this.d_numToleratedItems);\n                isRangeChanged = newFirst !== this.first || newLast !== this.last;\n                newScrollPos = scrollPos;\n            }\n\n            return {\n                first: newFirst,\n                last: newLast,\n                isRangeChanged,\n                scrollPos: newScrollPos\n            };\n        },\n        onScrollChange(event) {\n            const { first, last, isRangeChanged, scrollPos } = this.onScrollPositionChange(event);\n\n            if (isRangeChanged) {\n                const newState = { first, last };\n\n                this.setContentPosition(newState);\n\n                this.first = first;\n                this.last = last;\n                this.lastScrollPos = scrollPos;\n\n                this.$emit('scroll-index-change', newState);\n\n                if (this.lazy) {\n                    this.$emit('lazy-load', newState);\n                }\n            }\n        },\n        onScroll(event) {\n            this.$emit('scroll', event);\n\n            if (this.delay) {\n                if (this.scrollTimeout) {\n                    clearTimeout(this.scrollTimeout);\n                }\n\n                if (!this.d_loading && this.showLoader) {\n                    const { isRangeChanged: changed } = this.onScrollPositionChange(event);\n\n                    changed && (this.d_loading = true);\n                }\n\n                this.scrollTimeout = setTimeout(() => {\n                    this.onScrollChange(event);\n\n                    if (this.d_loading && this.showLoader && !this.lazy) {\n                        this.d_loading = false;\n                    }\n                }, this.delay);\n            } else {\n                this.onScrollChange(event);\n            }\n        },\n        getOptions(renderedIndex) {\n            const count = (this.items || []).length;\n            const index = this.isBoth() ? this.first.rows + renderedIndex : this.first + renderedIndex;\n\n            return {\n                index,\n                count,\n                first: index === 0,\n                last: index === count - 1,\n                even: index % 2 === 0,\n                odd: index % 2 !== 0\n            };\n        },\n        getLoaderOptions(index, extOptions) {\n            let count = this.loaderArr.length;\n\n            return {\n                index,\n                count,\n                first: index === 0,\n                last: index === count - 1,\n                even: index % 2 === 0,\n                odd: index % 2 !== 0,\n                ...extOptions\n            };\n        },\n        elementRef(el) {\n            this.element = el;\n        },\n        contentRef(el) {\n            this.content = el;\n        }\n    },\n    computed: {\n        containerClass() {\n            return [\n                'p-virtualscroller',\n                {\n                    'p-both-scroll': this.isBoth(),\n                    'p-horizontal-scroll': this.isHorizontal()\n                },\n                this.class\n            ];\n        },\n        contentClass() {\n            return [\n                'p-virtualscroller-content',\n                {\n                    'p-virtualscroller-loading': this.d_loading\n                }\n            ];\n        },\n        loaderClass() {\n            return [\n                'p-virtualscroller-loader',\n                {\n                    'p-component-overlay': !this.$slots.loader\n                }\n            ];\n        },\n        loadedItems() {\n            const items = this.items;\n\n            if (items && !this.d_loading) {\n                if (this.isBoth()) {\n                    return items.slice(this.first.rows, this.last.rows).map((item) => (this.columns ? item : item.slice(this.first.cols, this.last.cols)));\n                } else if (this.isHorizontal() && this.columns) return items;\n                else return items.slice(this.first, this.last);\n            }\n\n            return [];\n        },\n        loadedRows() {\n            return this.d_loading ? (this.loaderDisabled ? this.loaderArr : []) : this.loadedItems;\n        },\n        loadedColumns() {\n            if (this.columns) {\n                const both = this.isBoth();\n                const horizontal = this.isHorizontal();\n\n                if (both || horizontal) {\n                    return this.d_loading && this.loaderDisabled ? (both ? this.loaderArr[0] : this.loaderArr) : this.columns.slice(both ? this.first.cols : this.first, both ? this.last.cols : this.last);\n                }\n            }\n\n            return this.columns;\n        }\n    }\n};\n\nconst _hoisted_1 = [\"tabindex\"];\nconst _hoisted_2 = {\n  key: 1,\n  class: \"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (!$props.disabled)\n    ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        ref: $options.elementRef,\n        class: normalizeClass($options.containerClass),\n        tabindex: $props.tabindex,\n        style: normalizeStyle($props.style),\n        onScroll: _cache[0] || (_cache[0] = (...args) => ($options.onScroll && $options.onScroll(...args)))\n      }, [\n        renderSlot(_ctx.$slots, \"content\", {\n          styleClass: $options.contentClass,\n          items: $options.loadedItems,\n          getItemOptions: $options.getOptions,\n          loading: $data.d_loading,\n          getLoaderOptions: $options.getLoaderOptions,\n          itemSize: $props.itemSize,\n          rows: $options.loadedRows,\n          columns: $options.loadedColumns,\n          contentRef: $options.contentRef,\n          spacerStyle: $data.spacerStyle,\n          contentStyle: $data.contentStyle,\n          vertical: $options.isVertical(),\n          horizontal: $options.isHorizontal(),\n          both: $options.isBoth()\n        }, () => [\n          createElementVNode(\"div\", {\n            ref: $options.contentRef,\n            class: normalizeClass($options.contentClass),\n            style: normalizeStyle($data.contentStyle)\n          }, [\n            (openBlock(true), createElementBlock(Fragment, null, renderList($options.loadedItems, (item, index) => {\n              return renderSlot(_ctx.$slots, \"item\", {\n                key: index,\n                item: item,\n                options: $options.getOptions(index)\n              })\n            }), 128))\n          ], 6)\n        ]),\n        ($props.showSpacer)\n          ? (openBlock(), createElementBlock(\"div\", {\n              key: 0,\n              class: \"p-virtualscroller-spacer\",\n              style: normalizeStyle($data.spacerStyle)\n            }, null, 4))\n          : createCommentVNode(\"\", true),\n        (!$props.loaderDisabled && $props.showLoader && $data.d_loading)\n          ? (openBlock(), createElementBlock(\"div\", {\n              key: 1,\n              class: normalizeClass($options.loaderClass)\n            }, [\n              (_ctx.$slots && _ctx.$slots.loader)\n                ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList($data.loaderArr, (_, index) => {\n                    return renderSlot(_ctx.$slots, \"loader\", {\n                      key: index,\n                      options: $options.getLoaderOptions(index, $options.isBoth() && { numCols: _ctx.d_numItemsInViewport.cols })\n                    })\n                  }), 128))\n                : (openBlock(), createElementBlock(\"i\", _hoisted_2))\n            ], 2))\n          : createCommentVNode(\"\", true)\n      ], 46, _hoisted_1))\n    : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n        renderSlot(_ctx.$slots, \"default\"),\n        renderSlot(_ctx.$slots, \"content\", {\n          items: $props.items,\n          rows: $props.items,\n          columns: $options.loadedColumns\n        })\n      ], 64))\n}\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \"\\n.p-virtualscroller {\\n    position: relative;\\n    overflow: auto;\\n    contain: strict;\\n    transform: translateZ(0);\\n    will-change: scroll-position;\\n    outline: 0 none;\\n}\\n.p-virtualscroller-content {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    contain: content;\\n    min-height: 100%;\\n    min-width: 100%;\\n    will-change: transform;\\n}\\n.p-virtualscroller-spacer {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    height: 1px;\\n    width: 1px;\\n    transform-origin: 0 0;\\n    pointer-events: none;\\n}\\n.p-virtualscroller .p-virtualscroller-loader {\\n    position: sticky;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n}\\n.p-virtualscroller-loader.p-component-overlay {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n}\\n\";\nstyleInject(css_248z);\n\nscript.render = render;\n\nexport { script as default };\n"]},"metadata":{},"sourceType":"module"}