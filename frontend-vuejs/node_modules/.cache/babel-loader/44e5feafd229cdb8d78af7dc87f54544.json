{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withCtx as _withCtx, createBlock as _createBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-04f9a955\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  style: {\n    \"margin\": \"0 auto\",\n    \"width\": \"80%\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"flex justify-content-end\"\n};\nconst _hoisted_3 = {\n  class: \"p-input-icon-left\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"pi pi-search\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\" No hay elementos disponibles. \");\n\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" Cargando elementos. Por favor, espera. \");\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\" Productos Seleccionados \");\n\nconst _hoisted_8 = {\n  class: \"p-list\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_p58commandButton = _resolveComponent(\"p:commandButton\");\n\n  const _component_p58inputText = _resolveComponent(\"p:inputText\");\n\n  const _component_p_column = _resolveComponent(\"p_column\");\n\n  const _component_p58dataTable = _resolveComponent(\"p:dataTable\");\n\n  const _component_p_panel = _resolveComponent(\"p_panel\");\n\n  const _component_p_dialog = _resolveComponent(\"p_dialog\");\n\n  const _component_p_card = _resolveComponent(\"p_card\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_p58commandButton, {\n    id: \"ButtonDialog\",\n    label: this.labelDialogButton,\n    icon: \"pi pi-external-link\",\n    onClick: $options.openDialogPedidos,\n    style: {\n      \"vertical-align\": \"middle\"\n    }\n  }, null, 8\n  /* PROPS */\n  , [\"label\", \"onClick\"]), _createVNode(_component_p_dialog, {\n    header: \"Selecciona los productos\",\n    visible: $data.displayDialogPedidos,\n    \"onUpdate:visible\": _cache[3] || (_cache[3] = $event => $data.displayDialogPedidos = $event),\n    breakpoints: {\n      '960px': '75vw',\n      '640px': '90vw'\n    },\n    style: {\n      width: '50vw'\n    }\n  }, {\n    footer: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_p_panel, {\n      header: $props.header\n    }, {\n      default: _withCtx(() => [_createVNode(_component_p58dataTable, {\n        value: $props.data,\n        paginator: true,\n        rows: 10,\n        selection: this.localEditedRow.productos,\n        \"onUpdate:selection\": _cache[1] || (_cache[1] = $event => this.localEditedRow.productos = $event),\n        class: \"p-datatable-pedidos\",\n        onRowClick: $options.onRowSelect,\n        dataKey: \"id\",\n        paginatorTemplate: \"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\",\n        rowsPerPageOptions: [10, 20, 50],\n        responsiveLayout: \"scroll\",\n        filterDisplay: \"row\",\n        globalFilterFields: $options.globalFilterFields,\n        filters: $data.filters,\n        \"onUpdate:filters\": _cache[2] || (_cache[2] = $event => $data.filters = $event),\n        currentPageReportTemplate: \"Mostrando {first} a {last} de {totalRecords}\"\n      }, {\n        header: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"span\", _hoisted_3, [_hoisted_4, _createVNode(_component_p58inputText, {\n          modelValue: $data.filters['global'].value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.filters['global'].value = $event),\n          placeholder: \"Buscar...\"\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])])])]),\n        empty: _withCtx(() => [_hoisted_5]),\n        loading: _withCtx(() => [_hoisted_6]),\n        default: _withCtx(() => [_createVNode(_component_p_column, {\n          \"selection-mode\": \"multiple\",\n          \"header-style\": \"width: 3em\"\n        }), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.columns, column => {\n          return _openBlock(), _createBlock(_component_p_column, {\n            field: column.field,\n            header: column.header,\n            key: column.field,\n            ref_for: true,\n            ref: column.field,\n            sortable: true\n          }, {\n            filter: _withCtx(({\n              filterModel,\n              filterCallback\n            }) => [_createVNode(_component_p58inputText, {\n              type: \"text\",\n              modelValue: filterModel.value,\n              \"onUpdate:modelValue\": $event => filterModel.value = $event,\n              onKeyup: $event => filterCallback(),\n              class: \"p-column-filter\",\n              placeholder: 'Buscar por ' + column.header\n            }, null, 8\n            /* PROPS */\n            , [\"modelValue\", \"onUpdate:modelValue\", \"onKeyup\", \"placeholder\"])]),\n            _: 2\n            /* DYNAMIC */\n\n          }, 1032\n          /* PROPS, DYNAMIC_SLOTS */\n          , [\"field\", \"header\"]);\n        }), 128\n        /* KEYED_FRAGMENT */\n        ))]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"value\", \"selection\", \"onRowClick\", \"globalFilterFields\", \"filters\"])]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"header\"])]), _createVNode(_component_p58commandButton, {\n      label: \"No\",\n      icon: \"pi pi-times\",\n      onClick: $options.closeDialogPedidos,\n      class: \"p-button-text\"\n    }, null, 8\n    /* PROPS */\n    , [\"onClick\"]), _createVNode(_component_p58commandButton, {\n      label: \"Sí\",\n      icon: \"pi pi-check\",\n      onClick: $options.closeDialogPedidos,\n      autofocus: \"\"\n    }, null, 8\n    /* PROPS */\n    , [\"onClick\"])]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"visible\"]), _createVNode(_component_p_card, null, {\n    title: _withCtx(() => [_hoisted_7]),\n    content: _withCtx(() => [_createElementVNode(\"ul\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.selectedEditedRowList, (item, index) => {\n      return _openBlock(), _createElementBlock(\"li\", {\n        key: index\n      }, _toDisplayString(item.nombre), 1\n      /* TEXT */\n      );\n    }), 128\n    /* KEYED_FRAGMENT */\n    ))])]),\n    _: 1\n    /* STABLE */\n\n  })], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["style","class","_createElementVNode","_createVNode","_component_p58commandButton","id","label","labelDialogButton","icon","onClick","$options","_component_p_dialog","header","visible","$data","$event","breakpoints","width","footer","_component_p_panel","$props","_component_p58dataTable","value","paginator","rows","selection","localEditedRow","productos","onRowClick","dataKey","paginatorTemplate","rowsPerPageOptions","responsiveLayout","filterDisplay","globalFilterFields","filters","currentPageReportTemplate","_hoisted_4","_component_p58inputText","placeholder","empty","loading","_component_p_column","_createElementBlock","_Fragment","_renderList","column","_createBlock","field","key","ref","sortable","filter","filterModel","filterCallback","type","onKeyup","autofocus","_component_p_card","title","content","item","index","_toDisplayString","nombre"],"sourceRoot":"","sources":["C:\\Users\\emalc\\OneDrive\\Escritorio\\CRUD_keycloak_primeVue\\keycloak-workshop\\frontend-vuejs\\src\\componentes\\ZDialog.vue"],"sourcesContent":["<template>\r\n    <p:commandButton id=\"ButtonDialog\" :label=\"this.labelDialogButton\" icon=\"pi pi-external-link\" @click=\"openDialogPedidos\"\r\n        style=\"vertical-align: middle;\" />\r\n    <p_dialog header=\"Selecciona los productos\" v-model:visible=\"displayDialogPedidos\"\r\n        :breakpoints=\"{ '960px': '75vw', '640px': '90vw' }\" :style=\"{ width: '50vw' }\">\r\n        <template #footer>\r\n            <div style=\"margin: 0 auto; width: 80%\">\r\n                <p_panel :header=\"header\">\r\n                    <p:dataTable :value=\"data\" :paginator=\"true\" :rows=\"10\" v-model:selection=\"this.localEditedRow.productos\"\r\n                        class=\"p-datatable-pedidos\" @row-click=\"onRowSelect\" dataKey=\"id\"\r\n                        paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\r\n                        :rowsPerPageOptions=\"[10, 20, 50]\" responsiveLayout=\"scroll\" filterDisplay=\"row\"\r\n                        :globalFilterFields=\"globalFilterFields\" v-model:filters=\"filters\"\r\n                        currentPageReportTemplate=\"Mostrando {first} a {last} de {totalRecords}\">\r\n                        <template #header>\r\n                            <div class=\"flex justify-content-end\">\r\n                                <span class=\"p-input-icon-left \">\r\n                                    <i class=\"pi pi-search\" />\r\n                                    <p:inputText v-model=\"filters['global'].value\" placeholder=\"Buscar...\" />\r\n                                </span>\r\n                            </div>\r\n                        </template>\r\n                        <template #empty>\r\n                            No hay elementos disponibles.\r\n                        </template>\r\n                        <template #loading>\r\n                            Cargando elementos. Por favor, espera.\r\n                        </template>\r\n                        <p_column selection-mode=\"multiple\" header-style=\"width: 3em\"></p_column>\r\n                        <p_column v-for=\"column in columns\" :field=\"column.field\" :header=\"column.header\"\r\n                            :key=\"column.field\" :ref=\"column.field\" :sortable=\"true\">\r\n                            <template #filter=\"{ filterModel, filterCallback }\">\r\n                                <p:inputText type=\"text\" v-model=\"filterModel.value\" @keyup=\"filterCallback()\"\r\n                                    class=\"p-column-filter\" :placeholder=\"'Buscar por ' + column.header\" />\r\n                            </template>\r\n                        </p_column>\r\n\r\n                    </p:dataTable>\r\n                </p_panel>\r\n            </div>\r\n            <p:commandButton label=\"No\" icon=\"pi pi-times\" @click=\"closeDialogPedidos\" class=\"p-button-text\" />\r\n            <p:commandButton label=\"Sí\" icon=\"pi pi-check\" @click=\"closeDialogPedidos\" autofocus />\r\n\r\n\r\n        </template>\r\n    </p_dialog>\r\n    <p_card>\r\n        <template #title>\r\n            Productos Seleccionados\r\n        </template>\r\n        <template #content>\r\n            <ul class=\"p-list\">\r\n                <li v-for=\"(item, index) in selectedEditedRowList\" :key=\"index\">\r\n                    {{ item.nombre }}\r\n                </li>\r\n            </ul>\r\n        </template>\r\n\r\n    </p_card>\r\n</template>\r\n  \r\n<script>\r\nimport { FilterMatchMode } from 'primevue/api';\r\nimport { mapGetters } from 'vuex';\r\nexport default {\r\n    name: 'zDialog',\r\n    props: {\r\n        columns: {\r\n            type: Array,\r\n            required: true\r\n        },\r\n        data: {\r\n            type: Array,\r\n            required: true\r\n        },\r\n        header: {\r\n            type: String,\r\n            default: \"Lista de elementos\",\r\n            required: true\r\n        },\r\n        labelDialogButton: {\r\n            type: String,\r\n            default: \"Lista de elementos\",\r\n            required: true\r\n        },\r\n        idDialog: {\r\n            type: String,\r\n\r\n            required: true\r\n        },\r\n\r\n        localEditedRow:{\r\n            type: Object,\r\n\r\n            required: true\r\n        }\r\n\r\n    },\r\n    emits: ['elementosSeleccionados'],\r\n    data() {\r\n\r\n        return {\r\n            filters: {},\r\n            selectedRow: null,\r\n            selectedEditedRowList: [],\r\n            customValueInput: null,\r\n            displayDialogPedidos: false,\r\n            idDialogLocal: null\r\n\r\n        }\r\n\r\n    },\r\n\r\n    computed: {\r\n        globalFilterFields() {\r\n            return [\r\n                'global',\r\n                ...this.columns.map((column) => column.field)\r\n            ];\r\n        },\r\n        currentPageReportTemplate() {\r\n            return `Mostrando {first} a {last} de ${this.data.length} pedidos`;\r\n        },\r\n        ...mapGetters({\r\n            username: 'username',\r\n            keycloakToken: 'keycloakToken',\r\n            keycloakTokenParsed: 'keycloakTokenParsed',\r\n            axiosConfig: 'axiosConfig',\r\n            roles: 'roles',\r\n        }),\r\n\r\n    },\r\n    async created() {\r\n        console.log(\"created\");\r\n        this.initFilters();\r\n        this.idDialogLocal = this.idDialog;\r\n    },\r\n    methods: {\r\n        onRowSelect() {\r\n\r\n\r\n        },\r\n        initFilters() {\r\n            const filters = {\r\n                'global': { value: null, matchMode: FilterMatchMode.CONTAINS }\r\n            };\r\n            this.columns.forEach((column) => {\r\n                filters[column.field] = {\r\n                    value: null,\r\n                    matchMode: FilterMatchMode.CONTAINS\r\n                };\r\n            });\r\n            this.filters = filters;\r\n        },\r\n\r\n        openDialogPedidos() {\r\n            this.displayDialogPedidos = true;\r\n        },\r\n        closeDialogPedidos() {\r\n\r\n\r\n            this.$emit('elementosSeleccionados', this.selectedEditedRowList, this.idDialogLocal);\r\n            this.displayDialogPedidos = false;\r\n        },\r\n\r\n\r\n    }\r\n}\r\n</script>\r\n  \r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep(.p-datatable.p-datatable-pedidos) {\r\n    .p-datatable-header {\r\n        padding: 1rem;\r\n        text-align: left;\r\n        font-size: 1.5rem;\r\n    }\r\n\r\n    .p-paginator {\r\n        padding: 1rem;\r\n    }\r\n\r\n    .p-datatable-thead>tr>th {\r\n        text-align: left;\r\n    }\r\n\r\n    .p-datatable-tbody>tr>td {\r\n        cursor: auto;\r\n    }\r\n\r\n    .p-dropdown-label:not(.p-placeholder) {\r\n        text-transform: uppercase;\r\n    }\r\n}\r\n\r\n.panel-flex {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n}\r\n\r\n.panel-flex>div {\r\n    flex-basis: calc(25% - 10px);\r\n    margin-right: 10px;\r\n    margin-bottom: 20px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}