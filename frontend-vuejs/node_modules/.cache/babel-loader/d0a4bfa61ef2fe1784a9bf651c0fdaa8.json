{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-59bd62fc\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"panel-flex\",\n  style: {\n    \"margin-bottom\": \"20px\",\n    \"margin\": \"0 auto\",\n    \"width\": \"80%\"\n  }\n};\nconst _hoisted_2 = {\n  style: {\n    \"display\": \"inline-block\",\n    \"margin-right\": \"10px\",\n    \"vertical-align\": \"middle\"\n  }\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"numSeguimiento\",\n  style: {\n    \"display\": \"block\"\n  }\n}, \"Nº de seguimiento\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  style: {\n    \"display\": \"inline-block\",\n    \"margin-right\": \"10px\",\n    \"vertical-align\": \"middle\"\n  }\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"metodoDePago\",\n  style: {\n    \"display\": \"block\"\n  }\n}, \"Método de pago\", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  style: {\n    \"display\": \"inline-block\",\n    \"margin-right\": \"10px\",\n    \"vertical-align\": \"middle\"\n  }\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"estado\",\n  style: {\n    \"display\": \"block\"\n  }\n}, \"Estado\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  style: {\n    \"display\": \"inline-block\",\n    \"margin-right\": \"10px\",\n    \"vertical-align\": \"middle\"\n  }\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"productos\",\n  style: {\n    \"display\": \"block\"\n  }\n}, \"Productos\", -1 /* HOISTED */));\nconst _hoisted_10 = {\n  style: {\n    \"display\": \"inline-block\",\n    \"margin-right\": \"10px\",\n    \"vertical-align\": \"top\"\n  }\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"productosSeleccionados\",\n  style: {\n    \"display\": \"block\"\n  }\n}, \"Productos seleccionados\", -1 /* HOISTED */));\nconst _hoisted_12 = {\n  style: {\n    \"display\": \"inline-block\",\n    \"margin-right\": \"10px\",\n    \"vertical-align\": \"middle\"\n  }\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"direccionEnvio\",\n  style: {\n    \"display\": \"block\"\n  }\n}, \"Dirección de envío\", -1 /* HOISTED */));\nconst _hoisted_14 = {\n  style: {\n    \"display\": \"inline-block\",\n    \"margin-right\": \"10px\",\n    \"vertical-align\": \"middle\"\n  }\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"precioTotal\",\n  style: {\n    \"display\": \"block\"\n  }\n}, \"Precio total\", -1 /* HOISTED */));\nconst _hoisted_16 = {\n  style: {\n    \"display\": \"inline-block\",\n    \"margin-right\": \"10px\",\n    \"vertical-align\": \"top\"\n  }\n};\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"observaciones\",\n  style: {\n    \"display\": \"block\"\n  }\n}, \"Observaciones\", -1 /* HOISTED */));\nconst _hoisted_18 = {\n  key: 0\n};\nconst _hoisted_19 = {\n  class: \"center-buttons\",\n  style: {\n    \"margin\": \"0 auto\",\n    \"width\": \"80%\",\n    \"text-align\": \"center\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_p58inputText = _resolveComponent(\"p:inputText\");\n  const _component_p58selectOneMenu = _resolveComponent(\"p:selectOneMenu\");\n  const _component_p58commandButton = _resolveComponent(\"p:commandButton\");\n  const _component_TextArea = _resolveComponent(\"TextArea\");\n  const _component_ProductoSeleccionableDatatable = _resolveComponent(\"ProductoSeleccionableDatatable\");\n  const _component_p_dialog = _resolveComponent(\"p_dialog\");\n  const _component_p_panel = _resolveComponent(\"p_panel\");\n  const _component_p_toast = _resolveComponent(\"p_toast\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_p_panel, {\n    style: {\n      \"margin-bottom\": \"20px\",\n      \"margin\": \"0 auto\",\n      \"width\": \"80%\"\n    }\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createVNode(_component_p58inputText, {\n      id: \"numSeguimiento\",\n      type: \"text\",\n      modelValue: this.editedRow.numSeguimiento,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => this.editedRow.numSeguimiento = $event),\n      disabled: true,\n      style: {\n        \"width\": \"200px\"\n      }\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createVNode(_component_p58selectOneMenu, {\n      id: \"metodoDePago\",\n      modelValue: this.editedRow.metodoDePago,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => this.editedRow.metodoDePago = $event),\n      disabled: $data.isDisabled,\n      style: {\n        \"width\": \"200px\"\n      },\n      options: _ctx.metodosDePago,\n      placeholder: \"Selecciona un método de pago\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"disabled\", \"options\"])]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _createVNode(_component_p58selectOneMenu, {\n      id: \"estado\",\n      modelValue: this.editedRow.estado,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => this.editedRow.estado = $event),\n      disabled: $data.isDisabled,\n      style: {\n        \"width\": \"200px\"\n      },\n      optionLabel: \"nombre\",\n      placeholder: \"Selecciona un estado\",\n      options: _ctx.estados\n    }, null, 8 /* PROPS */, [\"modelValue\", \"disabled\", \"options\"])]), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _createVNode(_component_p58commandButton, {\n      id: \"productos\",\n      label: \"Selecciona productos\",\n      icon: \"pi pi-external-link\",\n      onClick: _ctx.openDialogPedidos,\n      disabled: $data.isDisabled,\n      style: {\n        \"vertical-align\": \"middle\"\n      }\n    }, null, 8 /* PROPS */, [\"onClick\", \"disabled\"])]), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _createVNode(_component_TextArea, {\n      id: \"productosSeleccionados\",\n      autoResize: true,\n      rows: \"5\",\n      cols: \"90\",\n      type: \"text\",\n      modelValue: this.productosNombres,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => this.productosNombres = $event),\n      disabled: true,\n      style: {\n        \"width\": \"350px\"\n      }\n    }, null, 8 /* PROPS */, [\"modelValue\"])])]), _createVNode(_component_p_dialog, {\n      header: \"Selecciona los productos\",\n      visible: _ctx.displayDialogPedidos,\n      \"onUpdate:visible\": _cache[4] || (_cache[4] = $event => _ctx.displayDialogPedidos = $event),\n      breakpoints: {\n        '960px': '75vw',\n        '640px': '90vw'\n      },\n      style: {\n        width: '50vw'\n      }\n    }, {\n      footer: _withCtx(() => [_createVNode(_component_ProductoSeleccionableDatatable, {\n        ref: \"productoSeleccionableDatatable\",\n        onProductosSeleccionados: _ctx.onProductosSeleccionados\n      }, null, 8 /* PROPS */, [\"onProductosSeleccionados\"]), _createVNode(_component_p58commandButton, {\n        label: \"No\",\n        icon: \"pi pi-times\",\n        onClick: _ctx.closeDialogPedidos,\n        class: \"p-button-text\"\n      }, null, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_p58commandButton, {\n        label: \"Sí\",\n        icon: \"pi pi-check\",\n        onClick: _ctx.closeDialogPedidos,\n        autofocus: \"\"\n      }, null, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"visible\"]), _createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _createVNode(_component_p58inputText, {\n      id: \"direccionEnvio\",\n      type: \"text\",\n      modelValue: this.editedRow.direccionEnvio,\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => this.editedRow.direccionEnvio = $event),\n      disabled: $data.isDisabled,\n      style: {\n        \"width\": \"200px\"\n      }\n    }, null, 8 /* PROPS */, [\"modelValue\", \"disabled\"])]), _createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _createVNode(_component_p58inputText, {\n      id: \"precioTotal\",\n      type: \"number\",\n      modelValue: this.editedRow.precioTotal,\n      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => this.editedRow.precioTotal = $event),\n      disabled: $data.isDisabled,\n      style: {\n        \"width\": \"200px\"\n      }\n    }, null, 8 /* PROPS */, [\"modelValue\", \"disabled\"])]), _createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _createVNode(_component_TextArea, {\n      id: \"observaciones\",\n      autoResize: true,\n      rows: \"5\",\n      cols: \"90\",\n      type: \"text\",\n      modelValue: this.editedRow.observaciones,\n      \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => this.editedRow.observaciones = $event),\n      disabled: $data.isDisabled,\n      style: {\n        \"width\": \"350px\"\n      }\n    }, null, 8 /* PROPS */, [\"modelValue\", \"disabled\"])])])]),\n    _: 1 /* STABLE */\n  }), this.roles.includes('SUPER_USER') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [_createVNode(_component_p_panel, {\n    style: {\n      \"margin-bottom\": \"20px\",\n      \"margin\": \"0 auto\",\n      \"width\": \"80%\"\n    }\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_19, [_createVNode(_component_p58commandButton, {\n      style: {\n        \"margin-right\": \"10px\"\n      },\n      label: \"Nuevo\",\n      onClick: $options.create,\n      class: \"p-button-success mr-2\",\n      icon: \"pi pi-plus\"\n    }, null, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_p58commandButton, {\n      style: {\n        \"margin-right\": \"10px\"\n      },\n      label: \"Guardar\",\n      onClick: $options.save,\n      icon: \"pi pi-save\",\n      update: \"nombre\"\n    }, null, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_p58commandButton, {\n      style: {\n        \"margin-right\": \"10px\"\n      },\n      label: \"Eliminar\",\n      onClick: $options.remove,\n      class: \"p-button-danger\",\n      icon: \"pi pi-trash\"\n    }, null, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_p58commandButton, {\n      style: {\n        \"margin-right\": \"10px\"\n      },\n      label: \"Refrescar\",\n      onClick: $options.getAll,\n      class: \"p-button-danger\",\n      icon: \"pi pi-refresh\"\n    }, null, 8 /* PROPS */, [\"onClick\"])])]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_p_toast)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","style","_createElementVNode","for","_createVNode","_component_p_panel","_hoisted_1","_hoisted_2","_hoisted_3","_component_p58inputText","id","type","editedRow","numSeguimiento","$event","disabled","_hoisted_4","_hoisted_5","_component_p58selectOneMenu","metodoDePago","$data","isDisabled","options","_ctx","metodosDePago","placeholder","_hoisted_6","_hoisted_7","estado","optionLabel","estados","_hoisted_8","_hoisted_9","_component_p58commandButton","label","icon","onClick","openDialogPedidos","_hoisted_10","_hoisted_11","_component_TextArea","autoResize","rows","cols","productosNombres","_component_p_dialog","header","visible","displayDialogPedidos","breakpoints","width","footer","_withCtx","_component_ProductoSeleccionableDatatable","ref","onProductosSeleccionados","closeDialogPedidos","autofocus","_hoisted_12","_hoisted_13","direccionEnvio","_hoisted_14","_hoisted_15","precioTotal","_hoisted_16","_hoisted_17","observaciones","roles","includes","_createElementBlock","_hoisted_18","_hoisted_19","$options","create","save","update","remove","getAll","_component_p_toast"],"sources":["C:\\Users\\emalc\\OneDrive\\Escritorio\\CRUD_keycloak_primeVue\\keycloak-workshop\\frontend-vuejs\\src\\componentes\\panelInputsPedidosCRUD.vue"],"sourcesContent":["<template>\r\n    <p_panel style=\"margin-bottom: 20px;margin: 0 auto; width: 80%\">\r\n\r\n        <div class=\"panel-flex\" style=\"margin-bottom: 20px;margin: 0 auto; width: 80%\">\r\n\r\n            <div style=\"display: inline-block; margin-right: 10px; vertical-align: middle;\">\r\n                <label for=\"numSeguimiento\" style=\"display: block;\">Nº de seguimiento</label>\r\n                <p:inputText id=\"numSeguimiento\" type=\"text\" v-model=\"this.editedRow.numSeguimiento\" :disabled=\"true\"\r\n                    style=\"width: 200px;\" />\r\n            </div>\r\n\r\n            <div style=\"display: inline-block; margin-right: 10px; vertical-align: middle;\">\r\n                <label for=\"metodoDePago\" style=\"display: block;\">Método de pago</label>\r\n                <p:selectOneMenu id=\"metodoDePago\" v-model=\"this.editedRow.metodoDePago\" :disabled=\"isDisabled\"\r\n                    style=\"width: 200px;\" :options=\"metodosDePago\" placeholder=\"Selecciona un método de pago\" />\r\n            </div>\r\n\r\n            <div style=\"display: inline-block; margin-right: 10px; vertical-align: middle;\">\r\n                <label for=\"estado\" style=\"display: block;\">Estado</label>\r\n                <p:selectOneMenu id=\"estado\" v-model=\"this.editedRow.estado\" :disabled=\"isDisabled\" style=\"width: 200px;\"\r\n                    optionLabel=\"nombre\" placeholder=\"Selecciona un estado\" :options=\"estados\" />\r\n            </div>\r\n            <div>\r\n                <div style=\"display: inline-block; margin-right: 10px; vertical-align: middle;\">\r\n                    <label for=\"productos\" style=\"display: block;\">Productos</label>\r\n                    <p:commandButton id=\"productos\" label=\"Selecciona productos\" icon=\"pi pi-external-link\"\r\n                        @click=\"openDialogPedidos\" :disabled=\"isDisabled\" style=\"vertical-align: middle;\" />\r\n                </div>\r\n                <div style=\"display: inline-block; margin-right: 10px; vertical-align: top;\">\r\n                    <label for=\"productosSeleccionados\" style=\"display: block;\">Productos seleccionados</label>\r\n                    <TextArea id=\"productosSeleccionados\" :autoResize=\"true\" rows=\"5\" cols=\"90\" type=\"text\"\r\n                        v-model=\"this.productosNombres\" :disabled=\"true\" style=\"width: 350px;\" />\r\n                </div>\r\n            </div>\r\n            <p_dialog header=\"Selecciona los productos\" v-model:visible=\"displayDialogPedidos\"\r\n                :breakpoints=\"{ '960px': '75vw', '640px': '90vw' }\" :style=\"{ width: '50vw' }\">\r\n                <template #footer>\r\n                    <ProductoSeleccionableDatatable ref=\"productoSeleccionableDatatable\"\r\n                        @productosSeleccionados=\"onProductosSeleccionados\" />\r\n                    <p:commandButton label=\"No\" icon=\"pi pi-times\" @click=\"closeDialogPedidos\" class=\"p-button-text\" />\r\n                    <p:commandButton label=\"Sí\" icon=\"pi pi-check\" @click=\"closeDialogPedidos\" autofocus />\r\n                </template>\r\n            </p_dialog>\r\n\r\n\r\n            <div style=\"display: inline-block; margin-right: 10px; vertical-align: middle;\">\r\n                <label for=\"direccionEnvio\" style=\"display: block;\">Dirección de envío</label>\r\n                <p:inputText id=\"direccionEnvio\" type=\"text\" v-model=\"this.editedRow.direccionEnvio\" :disabled=\"isDisabled\"\r\n                    style=\"width: 200px;\" />\r\n            </div>\r\n            <div style=\"display: inline-block; margin-right: 10px; vertical-align: middle;\">\r\n                <label for=\"precioTotal\" style=\"display: block;\">Precio total</label>\r\n                <p:inputText id=\"precioTotal\" type=\"number\" v-model=\"this.editedRow.precioTotal\" :disabled=\"isDisabled\"\r\n                    style=\"width: 200px;\" />\r\n            </div>\r\n            <div style=\"display: inline-block; margin-right: 10px; vertical-align: top;\">\r\n                <label for=\"observaciones\" style=\"display: block;\">Observaciones</label>\r\n                <TextArea id=\"observaciones\" :autoResize=\"true\" rows=\"5\" cols=\"90\" type=\"text\"\r\n                    v-model=\"this.editedRow.observaciones\" :disabled=\"isDisabled\" style=\"width: 350px;\" />\r\n            </div>\r\n\r\n        </div>\r\n    </p_panel>\r\n\r\n    <div v-if=\"this.roles.includes('SUPER_USER')\">\r\n        <p_panel style=\"margin-bottom: 20px;margin: 0 auto; width: 80%\">\r\n            <div class=\"center-buttons\" style=\"margin: 0 auto; width: 80%; text-align: center;\">\r\n                <p:commandButton style=\"margin-right: 10px;\" label=\"Nuevo\" @click=\"create\" class=\"p-button-success mr-2\"\r\n                    icon=\"pi pi-plus\"></p:commandButton>\r\n                <p:commandButton style=\"margin-right: 10px;\" label=\"Guardar\" @click=\"save\" icon=\"pi pi-save\"\r\n                    update=\"nombre\">\r\n                </p:commandButton>\r\n                <p:commandButton style=\"margin-right: 10px;\" label=\"Eliminar\" @click=\"remove\" class=\"p-button-danger\"\r\n                    icon=\"pi pi-trash\"></p:commandButton>\r\n                <p:commandButton style=\"margin-right: 10px;\" label=\"Refrescar\" @click=\"getAll\" class=\"p-button-danger\"\r\n                    icon=\"pi pi-refresh\"></p:commandButton>\r\n            </div>\r\n        </p_panel>\r\n\r\n    </div>\r\n    <p_toast></p_toast>\r\n</template>\r\n  \r\n<script>\r\nimport { FilterMatchMode } from 'primevue/api';\r\nimport { mapGetters } from 'vuex';\r\nimport axios from \"axios\";\r\nimport ZDialog from './ZDialog.vue';\r\nimport PedidoService from '@/service/PedidoService';\r\n\r\nexport default {\r\n\r\n    props: {\r\n        columns: {\r\n            type: Array,\r\n            required: true\r\n        },\r\n        pathListDatatable: {\r\n            type: String,\r\n            required: false\r\n        },\r\n\r\n        header: {\r\n            type: String,\r\n            default: \"Lista de elementos\"\r\n        },\r\n        editedRow: {\r\n            type: Object,\r\n            default: null\r\n        },\r\n        crudInputs: {\r\n            type: Object,\r\n            default: function () {\r\n                return {}\r\n            }\r\n        },\r\n        crudButtons: {\r\n            type: Array,\r\n            required: true\r\n        },\r\n\r\n        beforeInsert: {\r\n            type: Function,\r\n            required: true,\r\n        },\r\n        service: {\r\n            type: Object,\r\n            required: true\r\n        },\r\n        rowSelectListener: {\r\n            type: Function,\r\n            required: true,\r\n        },\r\n\r\n\r\n\r\n\r\n    },\r\n    components: {\r\n        ZDialog,\r\n\r\n    },\r\n    emits: ['elementosSeleccionados', 'save', 'select', 'eventService'],\r\n    data() {\r\n\r\n        return {\r\n            filters: {},\r\n            selectedRow: null,\r\n            localEditedRow: Object.assign({}, this.editedRow),\r\n            isDisabled: true,\r\n            localList: [],\r\n            checked: null,\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n    },\r\n    beforeCreate() {\r\n        this.pedidoService = new PedidoService();\r\n    },\r\n    watch: {\r\n        editedRow: {\r\n            handler: function (newVal) {\r\n                this.localEditedRow = Object.assign({}, newVal);\r\n            },\r\n            deep: true\r\n        },\r\n    }\r\n    ,\r\n    computed: {\r\n        globalFilterFields() {\r\n            return [\r\n                'global',\r\n                ...this.columns.map((column) => column.field)\r\n            ];\r\n        },\r\n        currentPageReportTemplate() {\r\n            return `Mostrando {first} a {last} de ${this.data.length} pedidos`;\r\n        },\r\n        currentSelection() {\r\n            return this.selectedRow[0] || {};\r\n        },\r\n        ...mapGetters({\r\n            username: 'username',\r\n            keycloakToken: 'keycloakToken',\r\n            keycloakTokenParsed: 'keycloakTokenParsed',\r\n            axiosConfig: 'axiosConfig',\r\n            roles: 'roles',\r\n        }),\r\n        getValue() {\r\n            return (value) => this.localEditedRow[value];\r\n        }\r\n\r\n    },\r\n    created() {\r\n        console.log(\"created\");\r\n        this.initFilters();\r\n        this.getAll();\r\n    },\r\n    mounted() {\r\n        console.log('mounted hijo');\r\n        // Recorre los inputs y si existe pathList, realiza una solicitud GET para obtener las opciones del selectOneMenu\r\n        this.crudInputs.forEach(async (input) => {\r\n            if (input.component.includes('select') && input.pathList) {\r\n                const response = await axios.get(input.pathList, this.axiosConfig);\r\n                const parsedData = response.data;\r\n                input.options = parsedData.map((item) => ({\r\n                    label: item.nombre,\r\n                    value: item,\r\n                }));\r\n            } else if (input.component.includes('ZDialog') && input.pathList) {\r\n                const response = await axios.get(input.pathList, this.axiosConfig);\r\n                input.zDialogData = response.data;\r\n                console.log(input.zDialogData);\r\n            }\r\n        });\r\n    },\r\n    methods: {\r\n        onRowSelect(event) {\r\n            this.localEditedRow = Object.assign({}, event.data);\r\n            console.log('localEditedRow del hijo', this.localEditedRow);\r\n            this.isDisabled = false;\r\n            this.rowSelectListener(() => {\r\n\r\n                if (typeof handleRowSelection === 'function') {\r\n                    this.handleRowSelection();\r\n                }\r\n\r\n            }, this.localEditedRow);\r\n            console.log('Paco')\r\n            let nombrePrueba = 'Kike'\r\n            console.log('El nombre prueba en rowselect es ', nombrePrueba)\r\n            console.log('El nombre prueba en rowselect es ' + nombrePrueba)\r\n\r\n            this.service.getEvent(() => {\r\n\r\n                if (typeof handleRowSelection === 'function') {\r\n                    this.handleEventPrueba();\r\n                }\r\n\r\n            }, nombrePrueba);\r\n\r\n            console.log('El nombre prueba en rowselect ahora es es ' + nombrePrueba)\r\n        },\r\n        handleRowSelection() {\r\n            console.log('Row selected!');\r\n        },\r\n        handleEventPrueba() {\r\n            console.log('Row event prueba!');\r\n        },\r\n        initFilters() {\r\n            const filters = {\r\n                'global': { value: null, matchMode: FilterMatchMode.CONTAINS }\r\n            };\r\n            this.columns.forEach((column) => {\r\n                filters[column.field] = {\r\n                    value: null,\r\n                    matchMode: FilterMatchMode.CONTAINS\r\n                };\r\n            });\r\n            this.filters = filters;\r\n        },\r\n        onElementosSeleccionados(elementosSeleccionados, idDialog) {\r\n\r\n            this.$emit('elementosSeleccionados', elementosSeleccionados, idDialog, this.localEditedRow);\r\n\r\n        },\r\n        onClick(action, callback) {\r\n            if (action === 'save') {\r\n                console.log('onClick del hijo antes de llamar al beforesave del padre');\r\n                this.beforeInsert(() => {\r\n                    console.log('beforeInsert callback del hijo');\r\n                    callback();\r\n                });\r\n                this.save();\r\n            } else if (action === 'remove') {\r\n                this.remove();\r\n            } else if (action === 'create') {\r\n                this.create();\r\n            }\r\n        },\r\n        save() {\r\n\r\n            console.log(this.localEditedRow);\r\n\r\n            try {\r\n                this.service.save(this.localEditedRow, this.axiosConfig).then(() => {\r\n                    this.$toast.add({\r\n                        severity: 'success',\r\n                        summary: 'Guardando',\r\n                        detail: 'REGISTRO CREADO CORRECTAMENTE. GUARDADO EN BASE DE DATOS',\r\n                        life: 3000\r\n                    });\r\n                    this.getAll();\r\n                    this.isDisabled = true;\r\n                }).catch((error) => {\r\n                    console.log('primer catch');\r\n                    console.log(error);\r\n                    if (error.response.status === 400) {\r\n                        const errorMessage = error.response.data;\r\n                        this.$toast.add({\r\n                            severity: 'error',\r\n                            summary: 'Error',\r\n                            detail: errorMessage,\r\n                            life: 3000\r\n                        });\r\n                    }\r\n                });\r\n            } catch (error) {\r\n                console.log('segundo catch');\r\n                console.log(error);\r\n                this.$toast.add({\r\n                    severity: 'error',\r\n                    summary: 'Error',\r\n                    detail: 'No se pudo guardar el registro. Por favor, inténtalo de nuevo más tarde.',\r\n                    life: 3000\r\n                });\r\n            }\r\n        },\r\n        create() {\r\n            this.isDisabled = false;\r\n            console.log('Hola create')\r\n            this.localEditedRow = {\r\n                id: null,\r\n                estado: null,\r\n                productos: null,\r\n                precioTotal: null,\r\n                direccionEnvio: null,\r\n                metodoDePago: null,\r\n                numSeguimiento: null,\r\n                observaciones: null,\r\n            };\r\n\r\n        },\r\n        remove() {\r\n            try {\r\n                this.service.remove(this.localEditedRow.id, this.axiosConfig).then(() => {\r\n                    this.$toast.add({ severity: 'success', summary: 'Eliminando', detail: 'REGISTRO ELIMINADO CORRECTAMENTE. BORRADO EN BASE DE DATOS', life: 3000 })\r\n                    this.getAll();\r\n                    this.isDisabled = true;\r\n                });\r\n            } catch (error) {\r\n                this.$toast.add({ severity: 'error', summary: 'Error', detail: 'No se pudo eliminar el registro. Por favor, inténtalo de nuevo más tarde.', life: 3000 });\r\n            }\r\n        },\r\n        async getAll() {\r\n            let response;\r\n            if (!this.$props.pathListDatatable) {\r\n                response = await this.service.getAll(this.axiosConfig);\r\n\r\n            } else {\r\n                console.log('lo he conseguido')\r\n                response = await this.axios.get(this.pathListDatatable, this.axiosConfig);\r\n            }\r\n            this.localList = response.data;\r\n\r\n        },\r\n\r\n\r\n    }\r\n}\r\n</script>\r\n  \r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep(.p-datatable.p-datatable-pedidos) {\r\n    .p-datatable-header {\r\n        padding: 1rem;\r\n        text-align: left;\r\n        font-size: 1.5rem;\r\n    }\r\n\r\n    .p-paginator {\r\n        padding: 1rem;\r\n    }\r\n\r\n    .p-datatable-thead>tr>th {\r\n        text-align: left;\r\n    }\r\n\r\n    .p-datatable-tbody>tr>td {\r\n        cursor: auto;\r\n    }\r\n\r\n    .p-dropdown-label:not(.p-placeholder) {\r\n        text-transform: uppercase;\r\n    }\r\n}\r\n\r\n.panel-flex {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n}\r\n\r\n.panel-flex>div {\r\n    flex-basis: calc(25% - 10px);\r\n    margin-right: 10px;\r\n    margin-bottom: 20px;\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module"}