{"ast":null,"code":"import { computed, defineComponent } from 'vue';\nimport { mapGetters } from 'vuex';\nimport PedidosCRUD from './componentes/PedidosCRUD.vue';\nexport default defineComponent({\n  name: 'App',\n  components: {\n    PedidosCRUD\n  },\n  setup() {\n    const backendToken = null;\n    const {\n      username,\n      keycloakToken,\n      keycloakTokenParsed,\n      roles\n    } = mapGetters(['username', 'keycloakToken', 'keycloakTokenParsed', 'roles']);\n    const logout = () => {\n      // replace with the logic to logout\n    };\n    const getBackendTokenInfo = () => {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${keycloakToken.value}`\n        }\n      };\n      this.axios.get('api/product/', config).then(response => {\n        backendToken.value = response.data;\n      });\n    };\n    const filteredRoles = computed(() => {\n      return roles.value.filter(role => !role.includes('offline_access') && !role.includes('uma_authorization') && !role.includes('default-roles-spring-boot-microservices-realm'));\n    });\n    return {\n      backendToken,\n      username,\n      keycloakToken,\n      keycloakTokenParsed,\n      roles,\n      logout,\n      getBackendTokenInfo,\n      filteredRoles\n    };\n  }\n});","map":{"version":3,"names":["computed","defineComponent","mapGetters","PedidosCRUD","name","components","setup","backendToken","username","keycloakToken","keycloakTokenParsed","roles","logout","getBackendTokenInfo","config","headers","Authorization","value","axios","get","then","response","data","filteredRoles","filter","role","includes"],"sources":["C:\\Users\\emalc\\OneDrive\\Escritorio\\CRUD_keycloak_primeVue\\keycloak-workshop\\frontend-vuejs\\src\\App.vue"],"sourcesContent":["<template>\r\n  <h3>{{ 'Usuario: ' + username }}</h3>\r\n  <h3>{{ 'Roles: ' + filteredRoles().join(', ') }}</h3>\r\n  <p:commandButton @click=\"logout\">Logout</p:commandButton>\r\n\r\n  <PedidosCRUD />\r\n</template>\r\n\r\n<script>\r\nimport { computed, defineComponent } from 'vue'\r\nimport { mapGetters } from 'vuex'\r\nimport PedidosCRUD from './componentes/PedidosCRUD.vue'\r\n\r\nexport default defineComponent({\r\n  name: 'App',\r\n  components: {\r\n    PedidosCRUD\r\n  },\r\n  setup() {\r\n    const backendToken = null\r\n    const { username, keycloakToken, keycloakTokenParsed, roles } = mapGetters([\r\n      'username',\r\n      'keycloakToken',\r\n      'keycloakTokenParsed',\r\n      'roles'\r\n    ])\r\n\r\n    const logout = () => {\r\n      // replace with the logic to logout\r\n    }\r\n\r\n    const getBackendTokenInfo = () => {\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${keycloakToken.value}`\r\n        }\r\n      }\r\n      this.axios.get('api/product/', config).then((response) => {\r\n        backendToken.value = response.data\r\n      })\r\n    }\r\n\r\n    const filteredRoles = computed(() => {\r\n      return roles.value.filter(\r\n        (role) =>\r\n          !role.includes('offline_access') &&\r\n          !role.includes('uma_authorization') &&\r\n          !role.includes('default-roles-spring-boot-microservices-realm')\r\n      )\r\n    })\r\n\r\n    return {\r\n      backendToken,\r\n      username,\r\n      keycloakToken,\r\n      keycloakTokenParsed,\r\n      roles,\r\n      logout,\r\n      getBackendTokenInfo,\r\n      filteredRoles\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style></style>\r\n"],"mappings":"AASA,SAASA,QAAQ,EAAEC,eAAc,QAAS,KAAI;AAC9C,SAASC,UAAS,QAAS,MAAK;AAChC,OAAOC,WAAU,MAAO,+BAA8B;AAEtD,eAAeF,eAAe,CAAC;EAC7BG,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,KAAKA,CAAA,EAAG;IACN,MAAMC,YAAW,GAAI,IAAG;IACxB,MAAM;MAAEC,QAAQ;MAAEC,aAAa;MAAEC,mBAAmB;MAAEC;IAAM,IAAIT,UAAU,CAAC,CACzE,UAAU,EACV,eAAe,EACf,qBAAqB,EACrB,OAAM,CACP;IAED,MAAMU,MAAK,GAAIA,CAAA,KAAM;MACnB;IAAA,CACF;IAEA,MAAMC,mBAAkB,GAAIA,CAAA,KAAM;MAChC,MAAMC,MAAK,GAAI;QACbC,OAAO,EAAE;UACPC,aAAa,EAAG,UAASP,aAAa,CAACQ,KAAM;QAC/C;MACF;MACA,IAAI,CAACC,KAAK,CAACC,GAAG,CAAC,cAAc,EAAEL,MAAM,CAAC,CAACM,IAAI,CAAEC,QAAQ,IAAK;QACxDd,YAAY,CAACU,KAAI,GAAII,QAAQ,CAACC,IAAG;MACnC,CAAC;IACH;IAEA,MAAMC,aAAY,GAAIvB,QAAQ,CAAC,MAAM;MACnC,OAAOW,KAAK,CAACM,KAAK,CAACO,MAAM,CACtBC,IAAI,IACH,CAACA,IAAI,CAACC,QAAQ,CAAC,gBAAgB,KAC/B,CAACD,IAAI,CAACC,QAAQ,CAAC,mBAAmB,KAClC,CAACD,IAAI,CAACC,QAAQ,CAAC,+CAA+C,EAClE;IACF,CAAC;IAED,OAAO;MACLnB,YAAY;MACZC,QAAQ;MACRC,aAAa;MACbC,mBAAmB;MACnBC,KAAK;MACLC,MAAM;MACNC,mBAAmB;MACnBU;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module"}