{"ast":null,"code":"import { FilterMatchMode } from 'primevue/api';\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'zDialog',\n  props: {\n    columns: {\n      type: Array,\n      required: true\n    },\n    data: {\n      type: Array,\n      required: true\n    },\n    header: {\n      type: String,\n      default: \"Lista de elementos\",\n      required: true\n    },\n    labelDialogButton: {\n      type: String,\n      default: \"Lista de elementos\",\n      required: true\n    },\n    idDialog: {\n      type: String,\n      default: \"Lista de elementos\",\n      required: true\n    }\n  },\n  emits: ['elementosSeleccionados'],\n\n  data() {\n    return {\n      filters: {},\n      selectedRow: null,\n      selectedEditedRowList: [],\n      customValueInput: null,\n      displayDialogPedidos: false,\n      idDialogLocal: null\n    };\n  },\n\n  computed: {\n    globalFilterFields() {\n      return ['global', ...this.columns.map(column => column.field)];\n    },\n\n    currentPageReportTemplate() {\n      return `Mostrando {first} a {last} de ${this.data.length} pedidos`;\n    },\n\n    ...mapGetters({\n      username: 'username',\n      keycloakToken: 'keycloakToken',\n      keycloakTokenParsed: 'keycloakTokenParsed',\n      axiosConfig: 'axiosConfig',\n      roles: 'roles'\n    })\n  },\n\n  async created() {\n    console.log(\"created\");\n    this.initFilters();\n    this.idDialogLocal = this.idDialog;\n  },\n\n  methods: {\n    onRowSelect() {},\n\n    initFilters() {\n      const filters = {\n        'global': {\n          value: null,\n          matchMode: FilterMatchMode.CONTAINS\n        }\n      };\n      this.columns.forEach(column => {\n        filters[column.field] = {\n          value: null,\n          matchMode: FilterMatchMode.CONTAINS\n        };\n      });\n      this.filters = filters;\n    },\n\n    openDialogPedidos() {\n      this.displayDialogPedidos = true;\n    },\n\n    closeDialogPedidos() {\n      this.$emit('elementosSeleccionados', this.selectedEditedRowList, this.idDialogLocal);\n      this.displayDialogPedidos = false;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAmDA,SAASA,eAAT,QAAgC,cAAhC;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,eAAe;AACXC,MAAI,EAAE,SADK;AAEXC,OAAK,EAAE;AACHC,WAAO,EAAE;AACLC,UAAI,EAAEC,KADD;AAELC,cAAQ,EAAE;AAFL,KADN;AAKHC,QAAI,EAAE;AACFH,UAAI,EAAEC,KADJ;AAEFC,cAAQ,EAAE;AAFR,KALH;AASHE,UAAM,EAAE;AACJJ,UAAI,EAAEK,MADF;AAEJC,aAAO,EAAE,oBAFL;AAGJJ,cAAQ,EAAE;AAHN,KATL;AAcHK,qBAAiB,EAAE;AACfP,UAAI,EAAEK,MADS;AAEfC,aAAO,EAAE,oBAFM;AAGfJ,cAAQ,EAAE;AAHK,KAdhB;AAmBHM,YAAQ,EAAE;AACNR,UAAI,EAAEK,MADA;AAENC,aAAO,EAAE,oBAFH;AAGNJ,cAAQ,EAAE;AAHJ;AAnBP,GAFI;AA4BXO,OAAK,EAAE,CAAC,wBAAD,CA5BI;;AA6BXN,MAAI,GAAG;AAEH,WAAO;AACHO,aAAO,EAAE,EADN;AAEHC,iBAAW,EAAE,IAFV;AAGHC,2BAAqB,EAAE,EAHpB;AAIHC,sBAAgB,EAAE,IAJf;AAKHC,0BAAoB,EAAE,KALnB;AAMHC,mBAAa,EAAE;AANZ,KAAP;AAUH,GAzCU;;AA2CXC,UAAQ,EAAE;AACNC,sBAAkB,GAAG;AACjB,aAAO,CACH,QADG,EAEH,GAAG,KAAKlB,OAAL,CAAamB,GAAb,CAAkBC,MAAD,IAAYA,MAAM,CAACC,KAApC,CAFA,CAAP;AAIH,KANK;;AAONC,6BAAyB,GAAG;AACxB,aAAQ,iCAAgC,KAAKlB,IAAL,CAAUmB,MAAM,UAAxD;AACH,KATK;;AAUN,OAAG1B,UAAU,CAAC;AACV2B,cAAQ,EAAE,UADA;AAEVC,mBAAa,EAAE,eAFL;AAGVC,yBAAmB,EAAE,qBAHX;AAIVC,iBAAW,EAAE,aAJH;AAKVC,WAAK,EAAE;AALG,KAAD;AAVP,GA3CC;;AA8DX,QAAMC,OAAN,GAAgB;AACZC,WAAO,CAACC,GAAR,CAAY,SAAZ;AACA,SAAKC,WAAL;AACA,SAAKhB,aAAL,GAAqB,KAAKP,QAA1B;AACH,GAlEU;;AAmEXwB,SAAO,EAAE;AACLC,eAAW,GAAG,CAGb,CAJI;;AAKLF,eAAW,GAAG;AACV,YAAMrB,OAAM,GAAI;AACZ,kBAAU;AAAEwB,eAAK,EAAE,IAAT;AAAeC,mBAAS,EAAExC,eAAe,CAACyC;AAA1C;AADE,OAAhB;AAGA,WAAKrC,OAAL,CAAasC,OAAb,CAAsBlB,MAAD,IAAY;AAC7BT,eAAO,CAACS,MAAM,CAACC,KAAR,CAAP,GAAwB;AACpBc,eAAK,EAAE,IADa;AAEpBC,mBAAS,EAAExC,eAAe,CAACyC;AAFP,SAAxB;AAIH,OALD;AAMA,WAAK1B,OAAL,GAAeA,OAAf;AACH,KAhBI;;AAkBL4B,qBAAiB,GAAG;AAChB,WAAKxB,oBAAL,GAA4B,IAA5B;AACH,KApBI;;AAqBLyB,sBAAkB,GAAG;AAGjB,WAAKC,KAAL,CAAW,wBAAX,EAAqC,KAAK5B,qBAA1C,EAAiE,KAAKG,aAAtE;AACA,WAAKD,oBAAL,GAA4B,KAA5B;AACH;;AA1BI;AAnEE,CAAf","names":["FilterMatchMode","mapGetters","name","props","columns","type","Array","required","data","header","String","default","labelDialogButton","idDialog","emits","filters","selectedRow","selectedEditedRowList","customValueInput","displayDialogPedidos","idDialogLocal","computed","globalFilterFields","map","column","field","currentPageReportTemplate","length","username","keycloakToken","keycloakTokenParsed","axiosConfig","roles","created","console","log","initFilters","methods","onRowSelect","value","matchMode","CONTAINS","forEach","openDialogPedidos","closeDialogPedidos","$emit"],"sourceRoot":"","sources":["C:\\Users\\emalc\\OneDrive\\Escritorio\\CRUD_keycloak_primeVue\\keycloak-workshop\\frontend-vuejs\\src\\componentes\\ZDialog.vue"],"sourcesContent":["<template>\r\n    <p:commandButton id=\"ButtonDialog\" :label=\"this.labelDialogButton\" icon=\"pi pi-external-link\" @click=\"openDialogPedidos\"\r\n        style=\"vertical-align: middle;\" />\r\n    <p_dialog header=\"Selecciona los productos\" v-model:visible=\"displayDialogPedidos\"\r\n        :breakpoints=\"{ '960px': '75vw', '640px': '90vw' }\" :style=\"{ width: '50vw' }\">\r\n        <template #footer>\r\n            <div style=\"margin: 0 auto; width: 80%\">\r\n                <p_panel :header=\"header\">\r\n                    <p:dataTable :value=\"data\" :paginator=\"true\" :rows=\"10\" v-model:selection=\"selectedEditedRowList\"\r\n                        class=\"p-datatable-pedidos\" @row-click=\"onRowSelect\" dataKey=\"id\"\r\n                        paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\r\n                        :rowsPerPageOptions=\"[10, 20, 50]\" responsiveLayout=\"scroll\" filterDisplay=\"row\"\r\n                        :globalFilterFields=\"globalFilterFields\" v-model:filters=\"filters\"\r\n                        currentPageReportTemplate=\"Mostrando {first} a {last} de {totalRecords}\">\r\n                        <template #header>\r\n                            <div class=\"flex justify-content-end\">\r\n                                <span class=\"p-input-icon-left \">\r\n                                    <i class=\"pi pi-search\" />\r\n                                    <p:inputText v-model=\"filters['global'].value\" placeholder=\"Buscar...\" />\r\n                                </span>\r\n                            </div>\r\n                        </template>\r\n                        <template #empty>\r\n                            No hay elementos disponibles.\r\n                        </template>\r\n                        <template #loading>\r\n                            Cargando elementos. Por favor, espera.\r\n                        </template>\r\n                        <p_column selection-mode=\"multiple\" header-style=\"width: 3em\"></p_column>\r\n                        <p_column v-for=\"column in columns\" :field=\"column.field\" :header=\"column.title\" :key=\"column.field\"\r\n                            :ref=\"column.field\" :sortable=\"true\">\r\n                            <template #filter=\"{ filterModel, filterCallback }\">\r\n                                <p:inputText type=\"text\" v-model=\"filterModel.value\" @keyup=\"filterCallback()\"\r\n                                    class=\"p-column-filter\" :placeholder=\"'Buscar por ' + column.title\" />\r\n                            </template>\r\n                        </p_column>\r\n\r\n                    </p:dataTable>\r\n                </p_panel>\r\n            </div>\r\n            <p:commandButton label=\"No\" icon=\"pi pi-times\" @click=\"closeDialogPedidos\" class=\"p-button-text\" />\r\n            <p:commandButton label=\"SÃ­\" icon=\"pi pi-check\" @click=\"closeDialogPedidos\" autofocus />\r\n\r\n\r\n        </template>\r\n    </p_dialog>\r\n\r\n    <p>El valor de los productos seleccionados es: {{ selectedEditedRowList }}</p>\r\n</template>\r\n  \r\n<script>\r\nimport { FilterMatchMode } from 'primevue/api';\r\nimport { mapGetters } from 'vuex';\r\nexport default {\r\n    name: 'zDialog',\r\n    props: {\r\n        columns: {\r\n            type: Array,\r\n            required: true\r\n        },\r\n        data: {\r\n            type: Array,\r\n            required: true\r\n        },\r\n        header: {\r\n            type: String,\r\n            default: \"Lista de elementos\",\r\n            required: true\r\n        },\r\n        labelDialogButton: {\r\n            type: String,\r\n            default: \"Lista de elementos\",\r\n            required: true\r\n        },\r\n        idDialog: {\r\n            type: String,\r\n            default: \"Lista de elementos\",\r\n            required: true\r\n        },\r\n\r\n    },\r\n    emits: ['elementosSeleccionados'],\r\n    data() {\r\n\r\n        return {\r\n            filters: {},\r\n            selectedRow: null,\r\n            selectedEditedRowList: [],\r\n            customValueInput: null,\r\n            displayDialogPedidos: false,\r\n            idDialogLocal: null\r\n\r\n        }\r\n\r\n    },\r\n\r\n    computed: {\r\n        globalFilterFields() {\r\n            return [\r\n                'global',\r\n                ...this.columns.map((column) => column.field)\r\n            ];\r\n        },\r\n        currentPageReportTemplate() {\r\n            return `Mostrando {first} a {last} de ${this.data.length} pedidos`;\r\n        },\r\n        ...mapGetters({\r\n            username: 'username',\r\n            keycloakToken: 'keycloakToken',\r\n            keycloakTokenParsed: 'keycloakTokenParsed',\r\n            axiosConfig: 'axiosConfig',\r\n            roles: 'roles',\r\n        }),\r\n\r\n    },\r\n    async created() {\r\n        console.log(\"created\");\r\n        this.initFilters();\r\n        this.idDialogLocal = this.idDialog;\r\n    },\r\n    methods: {\r\n        onRowSelect() {\r\n\r\n\r\n        },\r\n        initFilters() {\r\n            const filters = {\r\n                'global': { value: null, matchMode: FilterMatchMode.CONTAINS }\r\n            };\r\n            this.columns.forEach((column) => {\r\n                filters[column.field] = {\r\n                    value: null,\r\n                    matchMode: FilterMatchMode.CONTAINS\r\n                };\r\n            });\r\n            this.filters = filters;\r\n        },\r\n\r\n        openDialogPedidos() {\r\n            this.displayDialogPedidos = true;\r\n        },\r\n        closeDialogPedidos() {\r\n\r\n\r\n            this.$emit('elementosSeleccionados', this.selectedEditedRowList, this.idDialogLocal);\r\n            this.displayDialogPedidos = false;\r\n        },\r\n\r\n\r\n    }\r\n}\r\n</script>\r\n  \r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep(.p-datatable.p-datatable-pedidos) {\r\n    .p-datatable-header {\r\n        padding: 1rem;\r\n        text-align: left;\r\n        font-size: 1.5rem;\r\n    }\r\n\r\n    .p-paginator {\r\n        padding: 1rem;\r\n    }\r\n\r\n    .p-datatable-thead>tr>th {\r\n        text-align: left;\r\n    }\r\n\r\n    .p-datatable-tbody>tr>td {\r\n        cursor: auto;\r\n    }\r\n\r\n    .p-dropdown-label:not(.p-placeholder) {\r\n        text-transform: uppercase;\r\n    }\r\n}\r\n\r\n.panel-flex {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n}\r\n\r\n.panel-flex>div {\r\n    flex-basis: calc(25% - 10px);\r\n    margin-right: 10px;\r\n    margin-bottom: 20px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}